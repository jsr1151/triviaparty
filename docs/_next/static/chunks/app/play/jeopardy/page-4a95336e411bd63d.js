(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[864],{9693:(e,l,t)=>{Promise.resolve().then(t.bind(t,9697))},9697:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>r});var a=t(5155),n=t(2115);function s(e){var l,t,a,n;let s=(null!=(l=e.categories)?l:[]).map(e=>{var l,t,a,n,s;return{id:String(null!=(l=e.id)?l:Math.random()),name:String(null!=(t=e.name)?t:""),round:String(null!=(a=e.round)?a:"single"),position:Number(null!=(n=e.position)?n:0),clues:(null!=(s=e.clues)?s:[]).map(l=>{var t,a,n,s,r;return{id:String(null!=(t=l.id)?t:Math.random()),question:String(null!=(a=l.question)?a:""),answer:String(null!=(n=l.answer)?n:""),value:null!=l.value?Number(l.value):null,dailyDouble:!!l.dailyDouble,tripleStumper:!!l.tripleStumper,isFinalJeopardy:"final"===String(e.round),category:String(null!=(s=e.name)?s:""),round:String(null!=(r=e.round)?r:"single")}})}});return{id:String(null!=(t=e.id)?t:Math.random()),gameId:null!=e.gameId?Number(e.gameId):void 0,showNumber:Number(null!=(a=e.showNumber)?a:0),airDate:String(null!=(n=e.airDate)?n:""),season:null!=e.season?Number(e.season):null,isSpecial:!!e.isSpecial,tournamentType:null!=e.tournamentType?String(e.tournamentType):null,categories:s}}function r(){var e;let[l,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(null),[o,c]=(0,n.useState)({}),[d,u]=(0,n.useState)(null),[x,m]=(0,n.useState)(0),[b,p]=(0,n.useState)(!1),[h,g]=(0,n.useState)("single"),[f,v]=(0,n.useState)(!0),[N,j]=(0,n.useState)("api");(0,n.useEffect)(()=>{!async function(){var e,l;try{let l=await fetch("/api/jeopardy"),a=(null!=(e=(await l.json()).games)?e:[]).map(s);if(a.length>0){t(a),j("api"),v(!1);return}}catch(e){}try{let e=(l="/triviaparty",void 0!==l)?l:"",a=await fetch("".concat(e,"/data/jeopardy/index.json")),n=await a.json();if(n.length>0){let l=[];for(let t of n){let a=await fetch("".concat(e,"/data/jeopardy/").concat(t.file)),n=await a.json();l.push(function(e){return{id:String(e.gameId),gameId:e.gameId,showNumber:e.showNumber,airDate:e.airDate,season:e.season,isSpecial:e.isSpecial,tournamentType:e.tournamentType,categories:e.categories.map((l,t)=>({id:"".concat(e.gameId,"-").concat(t),name:l.name,round:l.round,position:l.position,clues:l.clues.map((l,a)=>({id:"".concat(e.gameId,"-").concat(t,"-").concat(a),...l}))}))}}(n))}t(l),j("files"),v(!1);return}}catch(e){}j("empty"),v(!1)}()},[]);let y=[200,400,600,800,1e3],w=[400,800,1200,1600,2e3];function S(e,l){let t=e.categories.filter(e=>e.round===l),a={};t.forEach(e=>{a[e.id]={};let t="double"===l?w:y;e.clues.forEach((l,n)=>{a[e.id][t[n]||(n+1)*200]={revealed:!1,clue:l}})}),c(a),u(null),p(!1)}function k(){d&&(c(e=>({...e,[d.catId]:{...e[d.catId],[d.value]:{...e[d.catId][d.value],revealed:!0}}})),u(null),p(!1))}if(f)return(0,a.jsx)("div",{className:"min-h-screen bg-blue-950 flex items-center justify-center text-white text-2xl",children:"Loading..."});if(!r)return(0,a.jsxs)("div",{className:"min-h-screen bg-blue-950 text-white p-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-yellow-400 mb-2 text-center",children:"Jeopardy!"}),"files"===N&&(0,a.jsx)("p",{className:"text-center text-blue-300 text-sm mb-6",children:"Loaded from local JSON files"}),0===l.length?(0,a.jsxs)("div",{className:"text-center text-gray-300 max-w-xl mx-auto",children:[(0,a.jsx)("p",{className:"text-xl mb-4",children:"No games loaded yet."}),(0,a.jsx)("p",{className:"mb-2",children:"To play, scrape some J-Archive games and commit the JSON files:"}),(0,a.jsx)("pre",{className:"bg-blue-900 rounded-xl p-4 text-left text-sm text-yellow-200 mt-4 overflow-x-auto",children:'# Scrape individual games\nnpm run scrape -- 8000 8001 8002\n\n# Or scrape a whole season\nnpm run scrape -- --season 40\n\n# Then commit the files so GitHub Pages serves them\ngit add public/data/jeopardy/\ngit commit -m "feat: add scraped games"\ngit push'}),(0,a.jsx)("p",{className:"mt-4 text-sm text-blue-300",children:"Or, deploy to Vercel and use the scrape API to store games in a database."})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-5xl mx-auto",children:l.map(e=>{var l;return(0,a.jsxs)("button",{onClick:()=>{i(e),g("single"),S(e,"single"),m(0)},className:"bg-blue-800 hover:bg-blue-700 rounded-xl p-6 text-left transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsxs)("span",{className:"text-xl font-bold",children:["Show #",e.showNumber]}),e.isSpecial&&(0,a.jsx)("span",{className:"bg-yellow-400 text-blue-950 text-xs font-bold px-2 py-0.5 rounded-full",children:null!=(l=e.tournamentType)?l:"Special"})]}),(0,a.jsx)("div",{className:"text-gray-300 text-sm",children:e.airDate}),e.season&&(0,a.jsxs)("div",{className:"text-blue-300 text-sm",children:["Season ",e.season]}),(0,a.jsxs)("div",{className:"text-sm text-blue-300 mt-2",children:[e.categories.length," categories"]})]},e.id)})})]});let I=r.categories.filter(e=>e.round===h);return(0,a.jsxs)("div",{className:"min-h-screen bg-blue-950 text-white p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("button",{onClick:()=>i(null),className:"text-yellow-400 hover:underline",children:"← Back"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-yellow-400",children:["Show #",r.showNumber]}),(0,a.jsxs)("div",{className:"text-sm text-gray-300",children:[r.airDate,r.season&&" \xb7 Season ".concat(r.season),r.isSpecial&&(0,a.jsx)("span",{className:"ml-2 bg-yellow-400 text-blue-950 text-xs font-bold px-2 py-0.5 rounded-full",children:null!=(e=r.tournamentType)?e:"Special"})]})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",x.toLocaleString()]})]}),(0,a.jsx)("div",{className:"flex gap-2 mb-4",children:["single","double"].map(e=>(0,a.jsx)("button",{onClick:()=>{g(e),S(r,e)},className:"px-4 py-2 rounded-lg font-bold ".concat(h===e?"bg-yellow-400 text-blue-950":"bg-blue-800"),children:"single"===e?"Jeopardy!":"Double Jeopardy!"},e))}),d&&(0,a.jsxs)("div",{className:"fixed inset-0 bg-blue-950 flex flex-col items-center justify-center z-50 p-8",children:[(0,a.jsxs)("div",{className:"text-yellow-400 text-lg mb-3 uppercase tracking-wide",children:[d.clue.category," — $",d.value]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[d.clue.dailyDouble&&(0,a.jsx)("span",{className:"bg-red-600 text-white text-sm font-bold px-3 py-1 rounded-full",children:"Daily Double!"}),d.clue.tripleStumper&&(0,a.jsx)("span",{className:"bg-orange-600 text-white text-sm font-bold px-3 py-1 rounded-full",children:"Triple Stumper"})]}),(0,a.jsx)("div",{className:"text-white text-3xl text-center font-bold max-w-2xl mb-8",children:d.clue.question}),b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-yellow-300 text-2xl text-center mb-8 italic",children:'"'.concat(d.clue.answer,'"')}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:function(){m(e=>e+((null==d?void 0:d.value)||0)),k()},className:"bg-green-600 hover:bg-green-500 px-8 py-3 rounded-xl font-bold text-xl",children:"✓ Correct"}),(0,a.jsx)("button",{onClick:function(){m(e=>e-((null==d?void 0:d.value)||0)),k()},className:"bg-red-600 hover:bg-red-500 px-8 py-3 rounded-xl font-bold text-xl",children:"✗ Wrong"}),(0,a.jsx)("button",{onClick:k,className:"bg-gray-600 hover:bg-gray-500 px-8 py-3 rounded-xl font-bold text-xl",children:"Skip"})]})]}):(0,a.jsx)("button",{onClick:()=>p(!0),className:"bg-yellow-400 text-blue-950 px-8 py-3 rounded-xl font-bold text-xl",children:"Show Answer"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:I.map(e=>(0,a.jsx)("th",{className:"bg-blue-800 p-3 text-center text-sm font-bold uppercase border border-blue-900",children:e.name},e.id))})}),(0,a.jsx)("tbody",{children:("double"===h?w:y).map(e=>(0,a.jsx)("tr",{children:I.map(l=>{var t;let n=null==(t=o[l.id])?void 0:t[e];return(0,a.jsx)("td",{className:"border border-blue-900 p-1",children:n&&!n.revealed?(0,a.jsxs)("button",{onClick:()=>{var t;return t=n.clue,void(u({clue:t,catId:l.id,value:e}),p(!1))},className:"w-full h-16 font-bold text-xl rounded transition-colors\n                            ".concat(n.clue.tripleStumper?"bg-orange-800 hover:bg-orange-700 text-yellow-400":"bg-blue-700 hover:bg-blue-600 text-yellow-400"),children:["$",e]}):(0,a.jsx)("div",{className:"w-full h-16 bg-blue-900 rounded"})},l.id)})},e))})]})})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=9693)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[864],{412:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>v});var a=l(5155),n=l(2115),s=l(2619),o=l.n(s);let r="jeopardy:clue:",c="jeopardy:tags";function i(e){try{let t=window.localStorage.getItem(r+e);if(!t)return m(e);return{...m(e),...JSON.parse(t)}}catch(t){return m(e)}}function u(e){if(window.localStorage.setItem(r+e.clueId,JSON.stringify(e)),e.topicTags.length>0){let t=Array.from(new Set([...d(),...e.topicTags])).sort();window.localStorage.setItem(c,JSON.stringify(t))}}function d(){try{let e=window.localStorage.getItem(c);return e?JSON.parse(e):[]}catch(e){return[]}}function m(e){return{clueId:e,topicTags:[],flagged:!1,mediaFlag:!1}}async function p(e,t){var l,a,n,s,o,r;let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,u=await fetch("".concat(e,"/data/jeopardy/index.json")),d=await u.json(),m=[],p=null==(l=t.search)?void 0:l.toLowerCase();for(let l of d){if(m.length>=c)break;if((null==(a=t.seasons)?void 0:a.length)&&!t.seasons.includes(null!=(s=l.season)?s:-1)||(null==(n=t.gameIds)?void 0:n.length)&&!t.gameIds.includes(l.gameId))continue;let u=await fetch("".concat(e,"/data/jeopardy/").concat(l.file)),d=await u.json(),x={gameId:d.gameId,showNumber:d.showNumber,airDate:d.airDate,season:d.season,isSpecial:d.isSpecial,tournamentType:d.tournamentType};for(let e of d.categories)if(null==(o=t.rounds)||!o.length||t.rounds.includes(e.round)){for(let l of e.clues){if(!l.clueId||t.tripleStumpersOnly&&!l.tripleStumper||t.dailyDoublesOnly&&!l.dailyDouble||t.finalOnly&&!l.isFinalJeopardy||null!=t.minValue&&null!=l.value&&l.value<t.minValue||null!=t.maxValue&&null!=l.value&&l.value>t.maxValue||p&&!"".concat(l.question," ").concat(l.answer," ").concat(l.category).toLowerCase().includes(p))continue;let e=i(l.clueId);if((!t.flaggedOnly||e.flagged)&&(!t.mediaFlaggedOnly||e.mediaFlag)){if((null==(r=t.topicTags)?void 0:r.length)&&!t.topicTags.every(t=>e.topicTags.includes(t)))continue;if(m.push({clue:l,userData:e,game:x}),m.length>=c)break}}if(m.length>=c)break}}return m}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"single";return[...e.flatMap(e=>e.categories.filter(e=>e.round===a&&e.clues.length>=l))].sort(()=>Math.random()-.5).slice(0,t).map(e=>({...e,clues:[...e.clues].sort(()=>Math.random()-.5).slice(0,l)}))}var b=l(9074);function g(e){let{clue:t,value:l,onCorrect:s,onIncorrect:o,onSkip:r,respondentLabel:c,teamOptions:m,respondentIndex:p,onRespondentChange:x,lockRespondent:b}=e,[g,h]=(0,n.useState)(!1),[f,y]=(0,n.useState)(!1),[w,N]=(0,n.useState)(!1),[j,v]=(0,n.useState)(!1),[S,k]=(0,n.useState)([]),[C,I]=(0,n.useState)(""),[D,T]=(0,n.useState)([]);(0,n.useEffect)(()=>{if(!t.clueId)return;let e=i(t.clueId);N(e.flagged),v(e.mediaFlag),k(e.topicTags),T(d()),h(!1),y(!1),I("")},[t.clueId]);let F=(0,n.useCallback)((e,l)=>{if(t.clueId){var a;N(e),v(l),a=t.clueId,u({...i(a),flagged:e,mediaFlag:l})}},[t.clueId]),A=(0,n.useCallback)(e=>{if(t.clueId){var l;k(e),l=t.clueId,u({...i(l),topicTags:e}),T(d())}},[t.clueId]);function O(e){let t=e.trim().toLowerCase();!t||S.includes(t)||(A([...S,t]),I(""))}let M=D.filter(e=>e.includes(C.toLowerCase())&&!S.includes(e));return(0,a.jsxs)("div",{className:"fixed inset-0 bg-blue-950 flex flex-col items-center justify-center z-50 p-6 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"text-yellow-400 text-lg mb-2 uppercase tracking-wide text-center",children:[t.category," — $",l]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:[t.dailyDouble&&(0,a.jsx)("span",{className:"bg-red-600 text-white text-sm md:text-base font-bold px-4 py-2 rounded-full animate-pulse",children:"Daily Double!"}),t.tripleStumper&&(0,a.jsx)("span",{className:"bg-orange-600 text-white text-xs font-bold px-3 py-1 rounded-full",children:"Triple Stumper"}),t.isFinalJeopardy&&(0,a.jsx)("span",{className:"bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full",children:"Final Jeopardy"}),w&&(0,a.jsx)("span",{className:"bg-yellow-500 text-blue-950 text-xs font-bold px-3 py-1 rounded-full",children:"\uD83D\uDEA9 Flagged"}),j&&(0,a.jsx)("span",{className:"bg-gray-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:"\uD83C\uDFAC Media"}),S.map(e=>(0,a.jsxs)("span",{className:"bg-blue-700 text-white text-xs font-bold px-3 py-1 rounded-full",children:["#",e]},e))]}),(0,a.jsx)("div",{className:"text-white text-2xl md:text-3xl text-center font-bold max-w-3xl mb-6 leading-snug",children:t.question}),c&&(0,a.jsxs)("div",{className:"text-blue-200 text-sm md:text-base mb-4",children:["Responding: ",(0,a.jsx)("span",{className:"text-yellow-300 font-bold",children:c})]}),g&&m&&m.length>0&&x&&(0,a.jsxs)("div",{className:"mb-4 w-full max-w-sm",children:[(0,a.jsx)("label",{className:"block text-sm text-blue-200 mb-1",children:"Who buzzed in?"}),(0,a.jsxs)("select",{disabled:!!b,value:null!=p?p:"",onChange:e=>x(Number(e.target.value)),className:"w-full bg-blue-800 border border-blue-600 rounded px-3 py-2 text-sm",children:[null==p&&(0,a.jsx)("option",{value:"",disabled:!0,children:"Select team"}),m.map((e,t)=>(0,a.jsx)("option",{value:t,children:e},"".concat(e,"-").concat(t)))]})]}),g&&(0,a.jsx)("div",{className:"text-yellow-300 text-xl md:text-2xl text-center mb-6 italic max-w-3xl",children:'"'.concat(t.answer,'"')}),f&&(0,a.jsxs)("div",{className:"bg-blue-900 rounded-xl p-4 mb-4 w-full max-w-lg",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:S.map(e=>(0,a.jsxs)("span",{className:"bg-blue-700 text-white text-sm px-2 py-1 rounded-full flex items-center gap-1",children:["#",e,(0,a.jsx)("button",{onClick:()=>{A(S.filter(t=>t!==e))},className:"text-blue-300 hover:text-white",children:"\xd7"})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,a.jsx)("input",{type:"text",value:C,onChange:e=>I(e.target.value),onKeyDown:e=>{"Enter"===e.key&&O(C)},placeholder:"Add topic tag…",className:"flex-1 bg-blue-800 text-white placeholder-blue-400 border border-blue-600 rounded-lg px-3 py-2 text-sm"}),(0,a.jsx)("button",{onClick:()=>O(C),className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg text-sm font-bold",children:"Add"})]}),M.length>0&&C.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:M.slice(0,8).map(e=>(0,a.jsx)("button",{onClick:()=>O(e),className:"bg-blue-800 hover:bg-blue-700 text-blue-200 text-xs px-2 py-1 rounded",children:e},e))}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>F(!w,j),className:"flex items-center gap-1 text-sm px-3 py-2 rounded-lg font-bold transition-colors ".concat(w?"bg-yellow-500 text-blue-950":"bg-blue-800 text-blue-200 hover:bg-blue-700"),children:["\uD83D\uDEA9 ",w?"Flagged":"Flag"]}),(0,a.jsxs)("button",{onClick:()=>F(w,!j),className:"flex items-center gap-1 text-sm px-3 py-2 rounded-lg font-bold transition-colors ".concat(j?"bg-gray-400 text-blue-950":"bg-blue-800 text-blue-200 hover:bg-blue-700"),children:["\uD83C\uDFAC ",j?"Media Flagged":"Media Flag"]})]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-3 justify-center",children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:s,disabled:m&&m.length>0&&null==p,className:"bg-green-600 hover:bg-green-500 px-8 py-3 rounded-xl font-bold text-xl",children:"✓ Correct"}),(0,a.jsx)("button",{onClick:o,disabled:m&&m.length>0&&null==p,className:"bg-red-600 hover:bg-red-500 px-8 py-3 rounded-xl font-bold text-xl",children:"✗ Wrong"}),(0,a.jsx)("button",{onClick:r,className:"bg-gray-600 hover:bg-gray-500 px-8 py-3 rounded-xl font-bold text-xl",children:"Skip"}),(0,a.jsx)("button",{onClick:()=>y(e=>!e),className:"bg-blue-700 hover:bg-blue-600 text-white px-4 py-3 rounded-xl font-bold text-sm",children:"\uD83C\uDFF7️ Tags"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>h(!0),className:"bg-yellow-400 text-blue-950 px-8 py-3 rounded-xl font-bold text-xl",children:"Show Answer"}),(0,a.jsx)("button",{onClick:()=>y(e=>!e),className:"bg-blue-700 hover:bg-blue-600 text-white px-4 py-3 rounded-xl font-bold text-sm",children:"\uD83C\uDFF7️ Tags"})]})})]})}let h=[200,400,600,800,1e3],f=[400,800,1200,1600,2e3],y=[600,1200,1800,2400,3e3];function w(e){var t,l,a,n;let s=(null!=(t=e.categories)?t:[]).map(e=>{var t,l,a,n,s;return{id:String(null!=(t=e.id)?t:Math.random()),name:String(null!=(l=e.name)?l:""),round:String(null!=(a=e.round)?a:"single"),position:Number(null!=(n=e.position)?n:0),clues:(null!=(s=e.clues)?s:[]).map((t,l)=>{var a,n,s,o,r,c,i,u;return{id:String(null!=(n=null!=(a=t.id)?a:t.clueId)?n:Math.random()),clueId:String(null!=(s=t.clueId)?s:""),question:String(null!=(o=t.question)?o:""),answer:String(null!=(r=t.answer)?r:""),value:null!=t.value?Number(t.value):null,dailyDouble:!!t.dailyDouble,tripleStumper:!!t.tripleStumper,isFinalJeopardy:"final"===String(e.round),category:String(null!=(c=e.name)?c:""),round:String(null!=(i=e.round)?i:"single"),rowIndex:Number(null!=(u=t.rowIndex)?u:l)}})}});return{id:String(null!=(l=e.id)?l:Math.random()),gameId:null!=e.gameId?Number(e.gameId):void 0,showNumber:Number(null!=(a=e.showNumber)?a:0),airDate:String(null!=(n=e.airDate)?n:""),season:null!=e.season?Number(e.season):null,isSpecial:!!e.isSpecial,tournamentType:null!=e.tournamentType?String(e.tournamentType):null,categories:s}}function N(e){if(null!=e.season)return e.season;let t=new Date(e.airDate);if(Number.isNaN(t.getTime()))return null;let l=t.getUTCFullYear()-1984+ +(t.getUTCMonth()>=8);return l>0?l:null}async function j(e,t){let l=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!l.ok)throw Error((await l.json().catch(()=>({}))).error||"Request failed");return l.json().catch(()=>({}))}function v(){let[e,t]=(0,n.useState)(!0),[l,s]=(0,n.useState)("api"),[r,c]=(0,n.useState)([]),[u,d]=(0,n.useState)([]),[m,v]=(0,n.useState)([]),[S,k]=(0,n.useState)(!1),[C,I]=(0,n.useState)({loaded:0,total:0}),[D,T]=(0,n.useState)("competition"),[F,A]=(0,n.useState)("replay"),[O,M]=(0,n.useState)(!1),[J,E]=(0,n.useState)(null),[L,P]=(0,n.useState)(null),[K,W]=(0,n.useState)("single"),[q,R]=(0,n.useState)({}),[V,z]=(0,n.useState)(null),[Q,$]=(0,n.useState)(null),[_,B]=(0,n.useState)(!1),G=(0,n.useRef)(new Set),[U,Y]=(0,n.useState)(0),[H,X]=(0,n.useState)("Team 1, Team 2"),[Z,ee]=(0,n.useState)([]),[et,el]=(0,n.useState)(0),[ea,en]=(0,n.useState)(!1),[es,eo]=(0,n.useState)(6),[er,ec]=(0,n.useState)(!0),[ei,eu]=(0,n.useState)(!1),[ed,em]=(0,n.useState)(!0),[ep,ex]=(0,n.useState)(""),[eb,eg]=(0,n.useState)({}),[eh,ef]=(0,n.useState)(!1),[ey,ew]=(0,n.useState)([]),[eN,ej]=(0,n.useState)(!0),[ev,eS]=(0,n.useState)([]),[ek,eC]=(0,n.useState)(null),[eI,eD]=(0,n.useState)(null),[eT,eF]=(0,n.useState)((0,b.vO)()),[eA,eO]=(0,n.useState)(null);async function eM(){if(m.length>0)return m;if("api"===l){let e=r.map(e=>{var t;return{gameId:null!=(t=e.gameId)?t:0,showNumber:e.showNumber,airDate:e.airDate,season:e.season,isSpecial:e.isSpecial,tournamentType:e.tournamentType,categories:e.categories.map(e=>({name:e.name,round:"triple"===e.round?"double":e.round,position:e.position,clues:e.clues}))}});return v(e),e}k(!0),I({loaded:0,total:u.length});let e="/triviaparty",t=[];for(let l=0;l<u.length;l+=12){let a=u.slice(l,l+12),n=await Promise.all(a.map(async t=>{let l=await fetch("".concat(e,"/data/jeopardy/").concat(t.file));return await l.json()}));t.push(...n),I(e=>({...e,loaded:Math.min(u.length,e.loaded+n.length)}))}return v(t),k(!1),t}function eJ(){let e=H.split(",").map(e=>e.trim()).filter(Boolean).slice(0,8);return e.length?e.map(e=>({name:e,score:0})):[{name:"Team 1",score:0},{name:"Team 2",score:0}]}function eE(e,t){let l=e.categories.filter(e=>e.round===t),a="double"===t?f:"triple"===t?y:"final"===t?[0]:h,n={};l.forEach(e=>{n[e.id]={},e.clues.forEach((l,s)=>{var o;let r="final"===t?0:null!=(o=a[s])?o:(s+1)*200;n[e.id][r]={revealed:!1,clue:l}})}),R(n),W(t),z(null)}async function eL(e){let t=e;if("files-index"===l&&0===e.categories.length&&e.sourceFile){var a,n;let l=await fetch("".concat("/triviaparty","/data/jeopardy/").concat(e.sourceFile));a=await l.json(),n=e.sourceFile,t={id:String(a.gameId),gameId:a.gameId,showNumber:a.showNumber,airDate:a.airDate,season:a.season,isSpecial:a.isSpecial,tournamentType:a.tournamentType,sourceFile:n,categories:a.categories.map((e,t)=>({id:"".concat(a.gameId,"-").concat(e.round,"-").concat(t),name:e.name,round:e.round,position:e.position,clues:e.clues.map((e,l)=>({...e,id:e.clueId||"".concat(a.gameId,"-").concat(t,"-").concat(l)}))}))}}if(!t.categories.length)return;E(t),P("replay"),Y(0),ee("competition"===D?eJ():[]),el(0),B(!1),G.current=new Set;let s="replay:".concat(t.showNumber||t.id);$(s);let o=t.categories.reduce((e,t)=>e+t.clues.length,0);(0,b.P6)({episodeKey:s,showNumber:t.showNumber||null,mode:D,totalClues:o}),eO((0,b.rW)(s)),eE(t,"single")}(0,n.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("method");e&&["replay","random","custom","learn"].includes(e)&&A(e)},[]),(0,n.useEffect)(()=>{(async()=>{try{var e,t;let l=await fetch("/api/auth/me");if(!l.ok)return;let a=await l.json();eC(null!=(e=a.user)?e:null),eD(null!=(t=a.stats)?t:null)}catch(e){}})()},[]),(0,n.useEffect)(()=>{eF((0,b.vO)())},[]),(0,n.useEffect)(()=>{!async function(){var e;let l="/triviaparty";if(!l)try{let l=await fetch("/api/jeopardy?limit=300"),a=(null!=(e=(await l.json()).games)?e:[]).map(w);if(a.length>0){c(a),s("api"),t(!1);return}}catch(e){}try{let e=await fetch("".concat(l,"/data/jeopardy/index.json")),a=await e.json();if(a.length>0){d(a),c(a.map(e=>({id:String(e.gameId),gameId:e.gameId,showNumber:e.showNumber,airDate:e.airDate,season:e.season,isSpecial:e.isSpecial,tournamentType:e.tournamentType,sourceFile:e.file,categories:[]}))),s("files-index"),t(!1);return}}catch(e){}s("empty"),t(!1)}()},[]);let eP=(0,n.useMemo)(()=>Array.from(new Set(r.filter(e=>e.isSpecial).map(e=>e.tournamentType||"Other Special"))).sort(),[r]);function eK(){return r.filter(e=>{let t=N(e);if(ey.length>0&&(null==t||!ey.includes(t)))return!1;if(e.isSpecial){let t=e.tournamentType||"Other Special";if(ev.length>0&&!ev.includes(t))return!1;if(!eN&&0===ev.length)return!0}return!!e.isSpecial||!!eN})}async function eW(){let e=eK();if(!e.length)return void alert("No episodes match your replay filters.");let t=Math.floor(Math.random()*e.length);await eL(e[t])}async function eq(){if(!(null==J?void 0:J.showNumber))return;let e=[...eK()].sort((e,t)=>e.showNumber-t.showNumber),t=e.findIndex(e=>e.showNumber===J.showNumber);t>=0&&t<e.length-1?await eL(e[t+1]):alert("No next episode in current filter.")}async function eR(){let e=await eM();if(!e.length)return;let t=[],l=x(e,es,5,"single").map((e,t)=>({id:"rnd-s-".concat(t),name:e.name,round:"single",position:t,clues:e.clues.map((e,l)=>({...e,id:e.clueId||"rnd-s-".concat(t,"-").concat(l)}))}));if(t.push(...l),er){let l=x(e,es,5,"double").map((e,t)=>({id:"rnd-d-".concat(t),name:e.name,round:"double",position:t,clues:e.clues.map((e,l)=>({...e,id:e.clueId||"rnd-d-".concat(t,"-").concat(l)}))}));t.push(...l)}if(ei){let l=x(e,es,5,"double").map((e,t)=>({id:"rnd-t-".concat(t),name:e.name,round:"triple",position:t,clues:e.clues.map((e,l)=>({...e,id:e.clueId||"rnd-t-".concat(t,"-").concat(l)}))}));t.push(...l)}if(ed){let l=e.flatMap(e=>e.categories).filter(e=>"final"===e.round).flatMap(e=>e.clues);if(l.length>0){let e=l[Math.floor(Math.random()*l.length)];t.push({id:"rnd-final-0",name:e.category||"Final Jeopardy",round:"final",position:0,clues:[{...e,id:e.clueId||"rnd-final-clue"}]})}}let a={id:"random-".concat(Date.now()),showNumber:0,airDate:"",season:null,isSpecial:!1,tournamentType:null,categories:t};E(a),P("random"),Y(0),ee("competition"===D?eJ():[]),el(0),B(!1),G.current=new Set;let n="random:".concat(Date.now());$(n);let s=a.categories.reduce((e,t)=>e+t.clues.length,0);(0,b.P6)({episodeKey:n,showNumber:null,mode:D,totalClues:s}),eO((0,b.rW)(n)),eE(a,"single")}async function eV(){ef(!0);let e={...eb,search:ep||void 0};try{let t=await p("/triviaparty",e,300),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=new Map;for(let t of e){let e=t.clue.category;a.has(e)||a.set(e,[]),a.get(e).push(t.clue)}return[...a.entries()].filter(e=>{let[,t]=e;return t.length>=1}).sort(()=>Math.random()-.5).slice(0,t).map((e,t)=>{let[a,n]=e;return{name:a,round:n[0].round,position:t,clues:[...n].sort(()=>Math.random()-.5).slice(0,l)}})}(t,es,5);if(!l.length){alert("No clues matched your custom filters."),ef(!1);return}let a={id:"custom-".concat(Date.now()),showNumber:0,airDate:"",season:null,isSpecial:!1,tournamentType:null,categories:l.map((e,t)=>({id:"custom-".concat(t),name:e.name,round:e.round,position:e.position,clues:e.clues.map((e,l)=>({...e,id:e.clueId||"custom-".concat(t,"-").concat(l)}))}))};E(a),P("custom"),Y(0),ee("competition"===D?eJ():[]),el(0),B(!1),G.current=new Set;let n="custom:".concat(Date.now());$(n);let s=a.categories.reduce((e,t)=>e+t.clues.length,0);(0,b.P6)({episodeKey:n,showNumber:null,mode:D,totalClues:s}),eO((0,b.rW)(n)),eE(a,"single")}catch(e){alert("Error building custom game.")}ef(!1)}async function ez(){try{let e=(0,b.Ak)();if(!e.length)return void alert("No missed clues yet. Miss or skip clues first, then come back to Learn mode.");let t=new Map;e.forEach(e=>{t.has(e.category)||t.set(e.category,[]),t.get(e.category).push({id:e.clueId,clueId:e.clueId,question:e.question,answer:e.answer,value:e.value,dailyDouble:e.dailyDouble,tripleStumper:e.tripleStumper,isFinalJeopardy:e.isFinalJeopardy,category:e.category,round:"single",rowIndex:0})});let l=[...t.entries()].slice(0,es).map((e,t)=>{let[l,a]=e;return{id:"learn-".concat(t),name:l,round:"single",position:t,clues:a.slice(0,5).map((e,t)=>({...e,rowIndex:t}))}}),a={id:"learn-".concat(Date.now()),showNumber:0,airDate:"",season:null,isSpecial:!1,tournamentType:null,categories:l};E(a),P("learn"),Y(0),ee([]),B(!1),G.current=new Set;let n="learn:".concat(Date.now());$(n);let s=a.categories.reduce((e,t)=>e+t.clues.length,0);(0,b.P6)({episodeKey:n,showNumber:null,mode:"learn",totalClues:s}),eO((0,b.rW)(n)),eE(a,"single")}catch(e){alert("Could not load your Learn clues.")}}function eQ(){if(!V||(R(e=>({...e,[V.catId]:{...e[V.catId],[V.boardValue]:{...e[V.catId][V.boardValue],revealed:!0}}})),z(null),!J))return;let e=J.categories.reduce((e,t)=>e+t.clues.length,0);G.current.add(V.clue.id),G.current.size>=e&&(Q&&((0,b.km)(Q),eO((0,b.rW)(Q)),eF((0,b.vO)())),B(!0))}function e$(e,t){if("competition"===D){let l=null!=t?t:et;ee(t=>t.map((t,a)=>a===l?{...t,score:t.score+e}:t));return}Y(t=>t+e)}async function e_(e){if(V&&(Q&&((0,b.zK)({episodeKey:Q,outcome:e,clue:V.clue}),eO((0,b.rW)(Q)),eF((0,b.vO)())),ek))try{await j("/api/user/progress",{outcome:e,clue:{clueId:V.clue.clueId,question:V.clue.question,answer:V.clue.answer,value:V.clue.value,dailyDouble:V.clue.dailyDouble,tripleStumper:V.clue.tripleStumper,isFinalJeopardy:V.clue.isFinalJeopardy,category:V.clue.category,round:V.clue.round}});let l=await fetch("/api/auth/me");if(l.ok){var t;let e=await l.json();eD(null!=(t=e.stats)?t:null)}}catch(e){}}async function eB(){if(!V)return;let e=V.respondentTeamIndex;await e_("correct"),e$(V.scoreValue,e),"competition"===D&&null!=e&&el(e),eQ()}async function eG(){if(!V)return;let e=V.respondentTeamIndex;await e_("incorrect"),e$(-V.scoreValue,e),eQ()}async function eU(){await e_("skip"),eQ()}async function eY(){if(ek)try{var e,t;await j("/api/user/game-complete",{endMoney:"competition"===D?0:U,showNumber:null!=(e=null==J?void 0:J.showNumber)?e:null});let l=await fetch("/api/auth/me");if(l.ok){let e=await l.json();eD(null!=(t=e.stats)?t:null)}}catch(e){}E(null),P(null),z(null),B(!1),$(null),eO(null),G.current=new Set}if(e)return(0,a.jsx)("div",{className:"min-h-screen bg-blue-950 flex items-center justify-center text-white text-2xl",children:"Loading…"});if(J){var eH,eX,eZ;let e=J.categories.some(e=>"double"===e.round),t=J.categories.some(e=>"triple"===e.round),l=J.categories.some(e=>"final"===e.round);return(0,a.jsxs)("div",{className:"min-h-screen bg-blue-950 text-white p-4",children:[_&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 bg-blue-950/95 flex items-center justify-center p-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:Array.from({length:60}).map((e,t)=>(0,a.jsx)("span",{className:"absolute text-2xl animate-bounce",style:{left:"".concat(17*t%100,"%"),top:"".concat(13*t%100,"%"),animationDelay:"".concat(t%10*.1,"s")},children:"\uD83C\uDF89"},t))}),(0,a.jsxs)("div",{className:"relative bg-blue-900 border border-blue-700 rounded-2xl p-8 w-full max-w-2xl text-center",children:[(0,a.jsx)("h2",{className:"text-4xl font-bold text-yellow-300 mb-3",children:"Game Complete!"}),"competition"===D?(0,a.jsxs)("p",{className:"text-xl mb-4",children:["\uD83C\uDFC6 Winner: ",(0,a.jsx)("span",{className:"font-bold text-yellow-300",children:"competition"!==D||0===Z.length?null:null!=(eZ=null==(eX=[...Z].sort((e,t)=>t.score-e.score)[0])?void 0:eX.name)?eZ:null})]}):(0,a.jsxs)("p",{className:"text-xl mb-4",children:["Final score: ",(0,a.jsxs)("span",{className:"font-bold text-yellow-300",children:["$",U.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["replay"===L&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:eq,className:"bg-yellow-400 text-blue-950 px-4 py-3 rounded-xl font-bold",children:"Replay next episode"}),(0,a.jsx)("button",{onClick:eW,className:"bg-yellow-400 text-blue-950 px-4 py-3 rounded-xl font-bold",children:"Replay random episode"}),(0,a.jsx)("button",{onClick:()=>{B(!1),E(null),P(null)},className:"bg-blue-700 px-4 py-3 rounded-xl font-bold",children:"Choose episode"}),(0,a.jsx)(o(),{href:"/",className:"bg-blue-700 px-4 py-3 rounded-xl font-bold",children:"Main Menu"})]}),"replay"!==L&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{B(!1),"random"===L&&eR(),"custom"===L&&eV(),"learn"===L&&ez()},className:"bg-yellow-400 text-blue-950 px-4 py-3 rounded-xl font-bold",children:"random"===L?"Create new episode":"Play again"}),(0,a.jsx)(o(),{href:"/",className:"bg-blue-700 px-4 py-3 rounded-xl font-bold",children:"Main Menu"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4 gap-3",children:[(0,a.jsx)("button",{onClick:eY,className:"text-yellow-400 hover:underline",children:"← Back"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-yellow-400",children:J.showNumber?"Show #".concat(J.showNumber):"Jeopardy"}),(0,a.jsxs)("div",{className:"text-sm text-gray-300",children:["competition"===D?"Competition":"Practice"," mode"]})]}),"competition"===D?(0,a.jsx)("div",{className:"text-right",children:Z.map((e,t)=>(0,a.jsxs)("div",{className:"text-sm ".concat(t===et?"text-yellow-300 font-bold":"text-white"),children:[e.name,": $",e.score.toLocaleString()]},"".concat(e.name,"-").concat(t)))}):(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",U.toLocaleString()]}),eA&&(0,a.jsxs)("div",{className:"text-xs text-blue-200",children:["Episode C/W/S: ",eA.correctAnswers,"/",eA.incorrectAnswers,"/",eA.skippedQuestions]}),(0,a.jsxs)("div",{className:"text-xs text-blue-300",children:["Overall C/W/S: ",eT.correctAnswers,"/",eT.incorrectAnswers,"/",eT.skippedQuestions]})]})]}),(0,a.jsxs)("div",{className:"mb-3 flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>M(e=>!e),className:"px-3 py-2 rounded-lg bg-blue-800 hover:bg-blue-700 text-sm font-bold",children:"Settings"}),"competition"===D&&Z[et]&&(0,a.jsxs)("div",{className:"text-sm text-blue-200 py-2",children:["Category control: ",(0,a.jsx)("span",{className:"text-yellow-300 font-bold",children:Z[et].name})]})]}),O&&(0,a.jsx)("div",{className:"max-w-3xl bg-blue-900 rounded-xl p-3 mb-4",children:(0,a.jsxs)("label",{className:"text-sm text-blue-200 flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:ea,onChange:e=>en(e.target.checked)}),"Triple stumper as blue"]})}),"competition"===D&&Z.length>0&&(0,a.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,a.jsx)("label",{className:"text-sm text-blue-300",children:"Category chooser:"}),(0,a.jsx)("select",{value:et,onChange:e=>el(Number(e.target.value)),className:"bg-blue-800 border border-blue-600 rounded px-2 py-1 text-sm",children:Z.map((e,t)=>(0,a.jsx)("option",{value:t,children:e.name},"".concat(e.name,"-").concat(t)))})]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4 flex-wrap",children:[(0,a.jsx)("button",{onClick:()=>eE(J,"single"),className:"px-4 py-2 rounded-lg font-bold ".concat("single"===K?"bg-yellow-400 text-blue-950":"bg-blue-800"),children:"Jeopardy!"}),e&&(0,a.jsx)("button",{onClick:()=>eE(J,"double"),className:"px-4 py-2 rounded-lg font-bold ".concat("double"===K?"bg-yellow-400 text-blue-950":"bg-blue-800"),children:"Double Jeopardy!"}),t&&(0,a.jsx)("button",{onClick:()=>eE(J,"triple"),className:"px-4 py-2 rounded-lg font-bold ".concat("triple"===K?"bg-yellow-400 text-blue-950":"bg-blue-800"),children:"Triple Jeopardy!"}),l&&(0,a.jsx)("button",{onClick:()=>eE(J,"final"),className:"px-4 py-2 rounded-lg font-bold ".concat("final"===K?"bg-yellow-400 text-blue-950":"bg-blue-800"),children:"Final Jeopardy"})]}),V&&(0,a.jsx)(g,{clue:V.clue,value:V.scoreValue,onCorrect:eB,onIncorrect:eG,onSkip:eU,respondentLabel:"competition"===D&&null!=V.respondentTeamIndex?null==(eH=Z[V.respondentTeamIndex])?void 0:eH.name:void 0,teamOptions:"competition"===D?Z.map(e=>e.name):void 0,respondentIndex:V.respondentTeamIndex,onRespondentChange:e=>z(t=>t?{...t,respondentTeamIndex:e}:t),lockRespondent:V.respondentLocked}),function(){if(!J)return null;let e=J.categories.filter(e=>e.round===K);return(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:e.map(e=>(0,a.jsx)("th",{className:"bg-blue-800 p-3 text-center text-sm font-bold uppercase border border-blue-900",children:e.name},e.id))})}),(0,a.jsx)("tbody",{children:("double"===K?f:"triple"===K?y:"final"===K?[0]:h).map(t=>(0,a.jsx)("tr",{children:e.map(e=>{var l;let n=null==(l=q[e.id])?void 0:l[t];if(!n)return(0,a.jsx)("td",{className:"border border-blue-900 p-1",children:(0,a.jsx)("div",{className:"w-full h-16 bg-blue-900 rounded"})},e.id);let s=n.clue.clueId?i(n.clue.clueId):null,o=ea?"bg-blue-700 hover:bg-blue-600 text-yellow-400":"bg-orange-800 hover:bg-orange-700 text-yellow-400";return(0,a.jsx)("td",{className:"border border-blue-900 p-1",children:n.revealed?(0,a.jsx)("div",{className:"w-full h-16 bg-blue-900 rounded"}):(0,a.jsxs)("button",{onClick:()=>(function(e,t,l){let a=l,n=null,s=!1;if(e.dailyDouble&&"final"!==K){var o,r;let e=null!=(r=null==(o=Z[et])?void 0:o.name)?r:"Chooser",t=window.prompt("Daily Double! ".concat(e,", enter wager:"),String(Math.max(200,l))),c=t?Number(t.replace(/[^\d]/g,"")):NaN;!Number.isNaN(c)&&c>0&&(a=c),"competition"===D&&(n=et,s=!0)}z({clue:e,catId:t,boardValue:l,scoreValue:a,respondentTeamIndex:n,respondentLocked:s})})(n.clue,e.id,t),className:"w-full h-16 font-bold text-xl rounded transition-colors relative ".concat(n.clue.tripleStumper?o:"bg-blue-700 hover:bg-blue-600 text-yellow-400"),children:["final"===K?"FINAL":"$".concat(t),((null==s?void 0:s.flagged)||(null==s?void 0:s.mediaFlag))&&(0,a.jsxs)("span",{className:"absolute top-1 right-1 text-xs",children:[s.flagged?"\uD83D\uDEA9":"",s.mediaFlag?"\uD83C\uDFAC":""]})]})},e.id)})},t))})]})})}()]})}return(0,a.jsxs)("div",{className:"min-h-screen bg-blue-950 text-white p-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-yellow-400 mb-2 text-center",children:"Jeopardy!"}),(0,a.jsx)("div",{className:"max-w-5xl mx-auto bg-blue-900 rounded-xl p-4 mb-5 text-sm",children:ek?(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3 items-center",children:[(0,a.jsxs)("div",{children:["Signed in as ",(0,a.jsx)("span",{className:"text-yellow-300 font-bold",children:ek.username})]}),eI&&(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-blue-200 text-xs md:text-sm",children:[(0,a.jsxs)("div",{children:["Games: ",eI.gamesPlayed]}),(0,a.jsxs)("div",{children:["Avg $: ",eI.averageEndMoney]}),(0,a.jsxs)("div",{children:["Episodes: ",eI.episodesCompleted]})]})]}):(0,a.jsx)("div",{className:"text-blue-200",children:"Sign in on the home page to sync stats and Learn mode across devices."})}),(0,a.jsx)("div",{className:"flex justify-center gap-2 mb-4",children:["competition","practice"].map(e=>(0,a.jsx)("button",{onClick:()=>T(e),className:"px-5 py-2 rounded-lg font-bold capitalize ".concat(D===e?"bg-yellow-400 text-blue-950":"bg-blue-800 hover:bg-blue-700"),children:e},e))}),"competition"===D&&(0,a.jsxs)("div",{className:"max-w-3xl mx-auto bg-blue-900 rounded-xl p-4 mb-5",children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-blue-300 mb-1",children:"Players/teams (comma separated)"}),(0,a.jsx)("input",{value:H,onChange:e=>X(e.target.value),className:"w-full bg-blue-800 border border-blue-600 rounded px-3 py-2",placeholder:"Team 1, Team 2"})]}),(0,a.jsxs)("div",{className:"max-w-5xl mx-auto flex items-center justify-center gap-2 mb-5 flex-wrap",children:[["replay","random","custom","learn"].map(e=>(0,a.jsx)("button",{onClick:()=>A(e),className:"px-4 py-2 rounded-lg font-bold capitalize ".concat(F===e?"bg-yellow-400 text-blue-950":"bg-blue-800 hover:bg-blue-700"),children:e},e)),(0,a.jsx)("button",{onClick:()=>M(e=>!e),className:"px-4 py-2 rounded-lg font-bold bg-blue-800 hover:bg-blue-700",children:"Settings"})]}),O&&(0,a.jsx)("div",{className:"max-w-3xl mx-auto bg-blue-900 rounded-xl p-4 mb-5",children:(0,a.jsxs)("label",{className:"text-sm text-blue-200 flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:ea,onChange:e=>en(e.target.checked)}),"Triple stumper as blue"]})}),"replay"===F&&(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-900 rounded-xl p-4",children:[(0,a.jsx)("div",{className:"text-sm text-blue-200 mb-2",children:"Seasons"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,a.jsx)("button",{onClick:()=>ew(Array.from({length:42},(e,t)=>t+1)),className:"px-3 py-1 rounded text-xs font-bold bg-blue-800 hover:bg-blue-700",children:"All"}),(0,a.jsx)("button",{onClick:()=>ew([]),className:"px-3 py-1 rounded text-xs font-bold bg-blue-800 hover:bg-blue-700",children:"None"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:Array.from({length:42}).map((e,t)=>{let l=t+1,n=ey.includes(l);return(0,a.jsx)("button",{onClick:()=>{ew(e=>e.includes(l)?e.filter(e=>e!==l):[...e,l].sort((e,t)=>e-t))},className:"px-2 py-1 rounded text-xs font-bold ".concat(n?"bg-yellow-400 text-blue-950":"bg-blue-800 hover:bg-blue-700"),children:l},l)})}),(0,a.jsx)("div",{className:"text-sm text-blue-200 mb-2",children:"Episode type"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:eN,onChange:e=>ej(e.target.checked)}),"Regular episodes"]}),eP.map(e=>(0,a.jsx)("button",{onClick:()=>{eS(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"px-3 py-1 rounded text-xs font-bold ".concat(ev.includes(e)?"bg-yellow-400 text-blue-950":"bg-blue-800 hover:bg-blue-700"),children:e},e))]}),(0,a.jsx)("button",{onClick:eW,className:"bg-yellow-400 text-blue-950 font-bold rounded px-4 py-2",children:"Random replay episode"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:eK().map(e=>(0,a.jsxs)("button",{onClick:()=>eL(e),className:"bg-blue-800 hover:bg-blue-700 rounded-xl p-6 text-left",children:[(0,a.jsxs)("div",{className:"text-xl font-bold",children:["Show #",e.showNumber]}),(0,a.jsx)("div",{className:"text-sm text-blue-300",children:e.airDate}),N(e)&&(0,a.jsxs)("div",{className:"text-sm text-blue-300",children:["Season ",N(e)]}),e.isSpecial&&(0,a.jsx)("div",{className:"text-xs mt-1 text-yellow-300",children:e.tournamentType||"Other Special"})]},e.id))})]}),"random"===F&&(0,a.jsxs)("div",{className:"max-w-xl mx-auto bg-blue-900 rounded-xl p-6 space-y-3",children:[(0,a.jsx)("label",{className:"block text-sm text-blue-300",children:"Number of categories"}),(0,a.jsx)("input",{type:"number",min:2,max:8,value:es,onChange:e=>eo(Math.max(2,Math.min(8,Number(e.target.value)||6))),className:"w-full bg-blue-800 border border-blue-600 rounded px-3 py-2"}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:er,onChange:e=>ec(e.target.checked)})," Enable Double Jeopardy"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:ei,onChange:e=>eu(e.target.checked)})," Enable Triple Jeopardy (third board)"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:ed,onChange:e=>em(e.target.checked)})," Add Final Jeopardy"]}),(0,a.jsx)("button",{onClick:eR,disabled:S,className:"w-full bg-yellow-400 text-blue-950 font-bold py-3 rounded-xl disabled:opacity-60",children:S?"Loading clue library… ".concat(C.loaded,"/").concat(C.total):"Build Random Game"})]}),"custom"===F&&(0,a.jsxs)("div",{className:"max-w-2xl mx-auto bg-blue-900 rounded-xl p-6 space-y-4",children:[(0,a.jsx)("input",{type:"text",value:ep,onChange:e=>ex(e.target.value),placeholder:"Search clues, answers, categories",className:"w-full bg-blue-800 border border-blue-600 rounded px-3 py-2"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,a.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:!!eb.dailyDoublesOnly,onChange:e=>eg(t=>({...t,dailyDoublesOnly:e.target.checked||void 0}))})," Daily Doubles only"]}),(0,a.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:!!eb.tripleStumpersOnly,onChange:e=>eg(t=>({...t,tripleStumpersOnly:e.target.checked||void 0}))})," Triple stumpers only"]}),(0,a.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:!!eb.finalOnly,onChange:e=>eg(t=>({...t,finalOnly:e.target.checked||void 0}))})," Final only"]}),(0,a.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:!!eb.flaggedOnly,onChange:e=>eg(t=>({...t,flaggedOnly:e.target.checked||void 0}))})," Flagged only"]})]}),(0,a.jsx)("button",{onClick:eV,disabled:eh,className:"w-full bg-yellow-400 text-blue-950 font-bold py-3 rounded-xl disabled:opacity-60",children:eh?"Building…":"Build Custom Game"})]}),"learn"===F&&(0,a.jsxs)("div",{className:"max-w-xl mx-auto text-center bg-blue-900 rounded-xl p-6",children:[(0,a.jsx)("p",{className:"text-blue-200 mb-4",children:"Study your missed and skipped clues from your local tracker history."}),(0,a.jsx)("button",{onClick:ez,className:"bg-yellow-400 text-blue-950 px-8 py-3 rounded-xl font-bold",children:"Start Learn Game"})]}),"empty"===l&&(0,a.jsx)("p",{className:"text-center mt-6 text-blue-300",children:"No Jeopardy data loaded yet."})]})}},9074:(e,t,l)=>{"use strict";l.d(t,{Ak:()=>g,P6:()=>p,PT:()=>d,km:()=>b,rW:()=>m,vO:()=>c,zK:()=>x});let a="triviaparty:local:overall",n="triviaparty:local:episodes",s="triviaparty:local:clues";function o(e,t){try{let l=window.localStorage.getItem(e);return l?JSON.parse(l):t}catch(e){return t}}function r(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function c(){return o(a,{gamesPlayed:0,episodesCompleted:0,correctAnswers:0,incorrectAnswers:0,skippedQuestions:0,updatedAt:new Date(0).toISOString()})}function i(e){r(a,{...e,updatedAt:new Date().toISOString()})}function u(){return o(n,{})}function d(){return Object.values(u()).sort((e,t)=>e.completedAt&&t.completedAt?t.completedAt.localeCompare(e.completedAt):t.startedAt.localeCompare(e.startedAt))}function m(e){var t;return null!=(t=u()[e])?t:null}function p(e){let t=u();t[e.episodeKey]||(t[e.episodeKey]={episodeKey:e.episodeKey,showNumber:e.showNumber,mode:e.mode,totalClues:e.totalClues,answeredClues:0,correctAnswers:0,incorrectAnswers:0,skippedQuestions:0,completed:!1,startedAt:new Date().toISOString(),completedAt:null},r(n,t))}function x(e){let t=u(),l=t[e.episodeKey];if(!l)return;l.answeredClues+=1,"correct"===e.outcome&&(l.correctAnswers+=1),"incorrect"===e.outcome&&(l.incorrectAnswers+=1),"skip"===e.outcome&&(l.skippedQuestions+=1),t[e.episodeKey]=l,r(n,t);let a=c();if("correct"===e.outcome&&(a.correctAnswers+=1),"incorrect"===e.outcome&&(a.incorrectAnswers+=1),"skip"===e.outcome&&(a.skippedQuestions+=1),i(a),e.clue.clueId){var d;let t=o(s,{}),l=t[e.clue.clueId];t[e.clue.clueId]={clueId:e.clue.clueId,question:e.clue.question,answer:e.clue.answer,category:e.clue.category,round:e.clue.round,value:e.clue.value,dailyDouble:e.clue.dailyDouble,tripleStumper:e.clue.tripleStumper,isFinalJeopardy:e.clue.isFinalJeopardy,outcomes:[...null!=(d=null==l?void 0:l.outcomes)?d:[],e.outcome].slice(-50),lastOutcome:e.outcome,updatedAt:new Date().toISOString()},r(s,t)}}function b(e){let t=u(),l=t[e];if(!l||l.completed)return;l.completed=!0,l.completedAt=new Date().toISOString(),t[e]=l,r(n,t);let a=c();a.gamesPlayed+=1,a.episodesCompleted+=1,i(a)}function g(){return Object.values(o(s,{})).filter(e=>"incorrect"===e.lastOutcome||"skip"===e.lastOutcome).sort((e,t)=>t.updatedAt.localeCompare(e.updatedAt))}},9705:(e,t,l)=>{Promise.resolve().then(l.bind(l,412))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=9705)),_N_E=e.O()}]);
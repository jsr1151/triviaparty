(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[864],{412:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>p});var a=t(5155),n=t(2115);let s="jeopardy:clue:",r="jeopardy:tags";function o(e){try{let l=window.localStorage.getItem(s+e);if(!l)return c(e);return{...c(e),...JSON.parse(l)}}catch(l){return c(e)}}function i(e){if(window.localStorage.setItem(s+e.clueId,JSON.stringify(e)),e.topicTags.length>0){let l=Array.from(new Set([...d(),...e.topicTags])).sort();window.localStorage.setItem(r,JSON.stringify(l))}}function d(){try{let e=window.localStorage.getItem(r);return e?JSON.parse(e):[]}catch(e){return[]}}function c(e){return{clueId:e,topicTags:[],flagged:!1,mediaFlag:!1}}async function u(e,l){var t,a,n,s,r,i;let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,c=await fetch("".concat(e,"/data/jeopardy/index.json")),u=await c.json(),x=[],m=null==(t=l.search)?void 0:t.toLowerCase();for(let t of u){if(x.length>=d)break;if((null==(a=l.seasons)?void 0:a.length)&&!l.seasons.includes(null!=(s=t.season)?s:-1)||(null==(n=l.gameIds)?void 0:n.length)&&!l.gameIds.includes(t.gameId))continue;let c=await fetch("".concat(e,"/data/jeopardy/").concat(t.file)),u=await c.json(),g={gameId:u.gameId,showNumber:u.showNumber,airDate:u.airDate,season:u.season,isSpecial:u.isSpecial,tournamentType:u.tournamentType};for(let e of u.categories)if(null==(r=l.rounds)||!r.length||l.rounds.includes(e.round)){for(let t of e.clues){if(!t.clueId||l.tripleStumpersOnly&&!t.tripleStumper||l.dailyDoublesOnly&&!t.dailyDouble||l.finalOnly&&!t.isFinalJeopardy||null!=l.minValue&&null!=t.value&&t.value<l.minValue||null!=l.maxValue&&null!=t.value&&t.value>l.maxValue||m&&!"".concat(t.question," ").concat(t.answer," ").concat(t.category).toLowerCase().includes(m))continue;let e=o(t.clueId);if((!l.flaggedOnly||e.flagged)&&(!l.mediaFlaggedOnly||e.mediaFlag)){if((null==(i=l.topicTags)?void 0:i.length)&&!l.topicTags.every(l=>e.topicTags.includes(l)))continue;if(x.push({clue:t,userData:e,game:g}),x.length>=d)break}}if(x.length>=d)break}}return x}function x(e){let{clue:l,value:t,onCorrect:s,onIncorrect:r,onSkip:c}=e,[u,x]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[b,h]=(0,n.useState)(!1),[p,f]=(0,n.useState)(!1),[y,v]=(0,n.useState)([]),[j,N]=(0,n.useState)(""),[w,S]=(0,n.useState)([]);(0,n.useEffect)(()=>{if(!l.clueId)return;let e=o(l.clueId);h(e.flagged),f(e.mediaFlag),v(e.topicTags),S(d()),x(!1),g(!1),N("")},[l.clueId]);let k=(0,n.useCallback)((e,t)=>{if(l.clueId){var a;h(e),f(t),a=l.clueId,i({...o(a),flagged:e,mediaFlag:t})}},[l.clueId]),C=(0,n.useCallback)(e=>{if(l.clueId){var t;v(e),t=l.clueId,i({...o(t),topicTags:e}),S(d())}},[l.clueId]);function I(e){let l=e.trim().toLowerCase();!l||y.includes(l)||(C([...y,l]),N(""))}let D=w.filter(e=>e.includes(j.toLowerCase())&&!y.includes(e));return(0,a.jsxs)("div",{className:"fixed inset-0 bg-blue-950 flex flex-col items-center justify-center z-50 p-6 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"text-yellow-400 text-lg mb-2 uppercase tracking-wide text-center",children:[l.category," — $",t]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:[l.dailyDouble&&(0,a.jsx)("span",{className:"bg-red-600 text-white text-xs font-bold px-3 py-1 rounded-full",children:"Daily Double!"}),l.tripleStumper&&(0,a.jsx)("span",{className:"bg-orange-600 text-white text-xs font-bold px-3 py-1 rounded-full",children:"Triple Stumper"}),l.isFinalJeopardy&&(0,a.jsx)("span",{className:"bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full",children:"Final Jeopardy"}),b&&(0,a.jsx)("span",{className:"bg-yellow-500 text-blue-950 text-xs font-bold px-3 py-1 rounded-full",children:"\uD83D\uDEA9 Flagged"}),p&&(0,a.jsx)("span",{className:"bg-gray-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:"\uD83C\uDFAC Media"}),y.map(e=>(0,a.jsxs)("span",{className:"bg-blue-700 text-white text-xs font-bold px-3 py-1 rounded-full",children:["#",e]},e))]}),(0,a.jsx)("div",{className:"text-white text-2xl md:text-3xl text-center font-bold max-w-3xl mb-6 leading-snug",children:l.question}),u&&(0,a.jsx)("div",{className:"text-yellow-300 text-xl md:text-2xl text-center mb-6 italic max-w-3xl",children:'"'.concat(l.answer,'"')}),m&&(0,a.jsxs)("div",{className:"bg-blue-900 rounded-xl p-4 mb-4 w-full max-w-lg",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:y.map(e=>(0,a.jsxs)("span",{className:"bg-blue-700 text-white text-sm px-2 py-1 rounded-full flex items-center gap-1",children:["#",e,(0,a.jsx)("button",{onClick:()=>{C(y.filter(l=>l!==e))},className:"text-blue-300 hover:text-white",children:"\xd7"})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,a.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),onKeyDown:e=>{"Enter"===e.key&&I(j)},placeholder:"Add topic tag…",className:"flex-1 bg-blue-800 text-white placeholder-blue-400 border border-blue-600 rounded-lg px-3 py-2 text-sm"}),(0,a.jsx)("button",{onClick:()=>I(j),className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg text-sm font-bold",children:"Add"})]}),D.length>0&&j.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:D.slice(0,8).map(e=>(0,a.jsx)("button",{onClick:()=>I(e),className:"bg-blue-800 hover:bg-blue-700 text-blue-200 text-xs px-2 py-1 rounded",children:e},e))}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>k(!b,p),className:"flex items-center gap-1 text-sm px-3 py-2 rounded-lg font-bold transition-colors ".concat(b?"bg-yellow-500 text-blue-950":"bg-blue-800 text-blue-200 hover:bg-blue-700"),children:["\uD83D\uDEA9 ",b?"Flagged":"Flag"]}),(0,a.jsxs)("button",{onClick:()=>k(b,!p),className:"flex items-center gap-1 text-sm px-3 py-2 rounded-lg font-bold transition-colors ".concat(p?"bg-gray-400 text-blue-950":"bg-blue-800 text-blue-200 hover:bg-blue-700"),children:["\uD83C\uDFAC ",p?"Media Flagged":"Media Flag"]})]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-3 justify-center",children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:s,className:"bg-green-600 hover:bg-green-500 px-8 py-3 rounded-xl font-bold text-xl",children:"✓ Correct"}),(0,a.jsx)("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 px-8 py-3 rounded-xl font-bold text-xl",children:"✗ Wrong"}),(0,a.jsx)("button",{onClick:c,className:"bg-gray-600 hover:bg-gray-500 px-8 py-3 rounded-xl font-bold text-xl",children:"Skip"}),(0,a.jsx)("button",{onClick:()=>g(e=>!e),className:"bg-blue-700 hover:bg-blue-600 text-white px-4 py-3 rounded-xl font-bold text-sm",children:"\uD83C\uDFF7️ Tags"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>x(!0),className:"bg-yellow-400 text-blue-950 px-8 py-3 rounded-xl font-bold text-xl",children:"Show Answer"}),(0,a.jsx)("button",{onClick:()=>g(e=>!e),className:"bg-blue-700 hover:bg-blue-600 text-white px-4 py-3 rounded-xl font-bold text-sm",children:"\uD83C\uDFF7️ Tags"})]})})]})}function m(e){var l,t,a,n;let s=(null!=(l=e.categories)?l:[]).map(e=>{var l,t,a,n,s;return{id:String(null!=(l=e.id)?l:Math.random()),name:String(null!=(t=e.name)?t:""),round:String(null!=(a=e.round)?a:"single"),position:Number(null!=(n=e.position)?n:0),clues:(null!=(s=e.clues)?s:[]).map((l,t)=>{var a,n,s,r,o,i,d,c;return{id:String(null!=(n=null!=(a=l.id)?a:l.clueId)?n:Math.random()),clueId:String(null!=(s=l.clueId)?s:""),question:String(null!=(r=l.question)?r:""),answer:String(null!=(o=l.answer)?o:""),value:null!=l.value?Number(l.value):null,dailyDouble:!!l.dailyDouble,tripleStumper:!!l.tripleStumper,isFinalJeopardy:"final"===String(e.round),category:String(null!=(i=e.name)?i:""),round:String(null!=(d=e.round)?d:"single"),rowIndex:Number(null!=(c=l.rowIndex)?c:t)}})}});return{id:String(null!=(t=e.id)?t:Math.random()),gameId:null!=e.gameId?Number(e.gameId):void 0,showNumber:Number(null!=(a=e.showNumber)?a:0),airDate:String(null!=(n=e.airDate)?n:""),season:null!=e.season?Number(e.season):null,isSpecial:!!e.isSpecial,tournamentType:null!=e.tournamentType?String(e.tournamentType):null,categories:s}}let g=[200,400,600,800,1e3],b=[400,800,1200,1600,2e3],h=Array.from({length:40},(e,l)=>l+1);function p(){var e,l,t,s;let[r,i]=(0,n.useState)([]),[d,c]=(0,n.useState)([]),[p,y]=(0,n.useState)([]),[v,j]=(0,n.useState)(!0),[N,w]=(0,n.useState)("api"),[S,k]=(0,n.useState)(null),[C,I]=(0,n.useState)(!1),[D,F]=(0,n.useState)({loaded:0,total:0}),[T,O]=(0,n.useState)("replay"),[M,J]=(0,n.useState)(null),[L,E]=(0,n.useState)({}),[A,V]=(0,n.useState)(null),[B,R]=(0,n.useState)(0),[_,q]=(0,n.useState)("single"),[G,P]=(0,n.useState)({}),[$,U]=(0,n.useState)(""),[W,z]=(0,n.useState)(!1),[H,K]=(0,n.useState)(!1),[Y,Q]=(0,n.useState)([]);async function X(){if(C||r.length>0||"files"!==N||0===d.length)return;I(!0),F({loaded:0,total:d.length});let e="/triviaparty",l=[],t=0,a=0,n=async()=>{for(;t<d.length;){let n=t;t+=1;let s=d[n];try{let t=await fetch("".concat(e,"/data/jeopardy/").concat(s.file));if(!t.ok)continue;let a=await t.json();l.push(a)}catch(e){}finally{((a+=1)%25==0||a===d.length)&&F({loaded:a,total:d.length})}}};await Promise.all(Array.from({length:8},()=>n())),i(l),F({loaded:l.length,total:d.length}),I(!1)}function Z(e,l){let t=e.categories.filter(e=>e.round===l),a="double"===l?b:g,n={};t.forEach(e=>{n[e.id]={},e.clues.forEach((l,t)=>{var s;n[e.id][null!=(s=a[t])?s:(t+1)*200]={revealed:!1,clue:l}})}),E(n),V(null),q(l)}async function ee(e){var l;if(e.categories.length>0){J(e),Z(e,"single"),R(0);return}if(!e.gameId)return;let t=d.find(l=>l.gameId===e.gameId);if(t){k(e.id);try{let a=await fetch("".concat("/triviaparty","/data/jeopardy/").concat(t.file));if(!a.ok)throw Error("game fetch failed");let n=(l=await a.json(),{id:String(l.gameId),gameId:l.gameId,showNumber:l.showNumber,airDate:l.airDate,season:l.season,isSpecial:l.isSpecial,tournamentType:l.tournamentType,categories:l.categories.map((e,t)=>({id:"".concat(l.gameId,"-").concat(t),name:e.name,round:e.round,position:e.position,clues:e.clues.map((e,a)=>({...e,id:e.clueId||"".concat(l.gameId,"-").concat(t,"-").concat(a)}))}))});y(l=>l.map(l=>l.id===e.id?n:l)),J(n),Z(n,"single"),R(0)}catch(e){alert("Unable to load this game right now. Please try again.")}finally{k(null)}}}async function el(){z(!0);let e={...G,search:$||void 0};try{let l=await u("/triviaparty",e,300),t=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=new Map;for(let l of e){let e=l.clue.category;a.has(e)||a.set(e,[]),a.get(e).push(l.clue)}return[...a.entries()].filter(e=>{let[,l]=e;return l.length>=1}).sort(()=>Math.random()-.5).slice(0,l).map((e,l)=>{let[a,n]=e;return{name:a,round:n[0].round,position:l,clues:[...n].sort(()=>Math.random()-.5).slice(0,t)}})}(l);if(0===t.length){alert("No clues matched your filter. Try relaxing the criteria."),z(!1);return}let a={id:"custom-"+Date.now(),showNumber:0,airDate:"",season:null,isSpecial:!1,tournamentType:null,categories:t.map((e,l)=>({id:"cst-".concat(l),name:e.name,round:e.round,position:e.position,clues:e.clues.map((e,t)=>({...e,id:e.clueId||"cst-".concat(l,"-").concat(t)}))}))};J(a),Z(a,"single"),R(0)}catch(e){alert("Error building custom game. Make sure games are loaded.")}z(!1)}function et(){A&&(E(e=>({...e,[A.catId]:{...e[A.catId],[A.value]:{...e[A.catId][A.value],revealed:!0}}})),V(null))}if((0,n.useEffect)(()=>{!async function(){var e;try{let e=await fetch("".concat("/triviaparty","/data/jeopardy/index.json"));if(!e.ok)throw Error("index fetch failed");let l=await e.json();if(l.length>0){c(l),y(l.map(e=>{var l;return{id:String(e.gameId),gameId:e.gameId,showNumber:e.showNumber,airDate:e.airDate,season:null!=(l=e.season)?l:function(e){let l=new Date(e);if(Number.isNaN(l.getTime()))return null;let t=l.getUTCFullYear(),a=l.getUTCMonth()+1>=9?t-1983:t-1984;return a<1?null:a}(e.airDate),isSpecial:e.isSpecial,tournamentType:e.tournamentType,categories:[]}})),w("files"),j(!1);return}}catch(e){}try{let l=await fetch("/api/jeopardy"),t=(null!=(e=(await l.json()).games)?e:[]).map(m);if(t.length>0){y(t),w("api"),j(!1);return}}catch(e){}w("empty"),j(!1)}()},[]),(0,n.useEffect)(()=>{("random"===T||"custom"===T)&&X()},[T,N,d.length]),v)return(0,a.jsx)("div",{className:"min-h-screen bg-blue-950 flex items-center justify-center text-white text-2xl",children:"Loading…"});if(M){let l=M.id.startsWith("random-"),t=M.id.startsWith("custom-"),n=l?"Random Game":t?"Custom Game":"Show #".concat(M.showNumber);return(0,a.jsxs)("div",{className:"min-h-screen bg-blue-950 text-white p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("button",{onClick:()=>J(null),className:"text-yellow-400 hover:underline",children:"← Back"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-yellow-400",children:n}),!l&&!t&&(0,a.jsxs)("div",{className:"text-sm text-gray-300",children:[M.airDate,M.season&&" \xb7 Season ".concat(M.season),M.isSpecial&&(0,a.jsx)("span",{className:"ml-2 bg-yellow-400 text-blue-950 text-xs font-bold px-2 py-0.5 rounded-full",children:null!=(e=M.tournamentType)?e:"Special"})]})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",B.toLocaleString()]})]}),!l&&!t&&(0,a.jsx)("div",{className:"flex gap-2 mb-4",children:["single","double"].map(e=>(0,a.jsx)("button",{onClick:()=>Z(M,e),className:"px-4 py-2 rounded-lg font-bold ".concat(_===e?"bg-yellow-400 text-blue-950":"bg-blue-800"),children:"single"===e?"Jeopardy!":"Double Jeopardy!"},e))}),A&&(0,a.jsx)(x,{clue:A.clue,value:A.value,onCorrect:function(){R(e=>e+((null==A?void 0:A.value)||0)),et()},onIncorrect:function(){R(e=>e-((null==A?void 0:A.value)||0)),et()},onSkip:et}),function(){if(!M)return null;let e=M.categories.filter(e=>e.round===_);return(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:e.map(e=>(0,a.jsx)("th",{className:"bg-blue-800 p-3 text-center text-sm font-bold uppercase border border-blue-900",children:e.name},e.id))})}),(0,a.jsx)("tbody",{children:("double"===_?b:g).map(l=>(0,a.jsx)("tr",{children:e.map(e=>{var t;let n=null==(t=L[e.id])?void 0:t[l];if(!n)return(0,a.jsx)("td",{className:"border border-blue-900 p-1",children:(0,a.jsx)("div",{className:"w-full h-16 bg-blue-900 rounded"})},e.id);let s=n.clue.clueId?o(n.clue.clueId):null,r=null==s?void 0:s.flagged,i=null==s?void 0:s.mediaFlag;return(0,a.jsx)("td",{className:"border border-blue-900 p-1",children:n.revealed?(0,a.jsx)("div",{className:"w-full h-16 bg-blue-900 rounded"}):(0,a.jsxs)("button",{onClick:()=>{var t;return t=n.clue,void V({clue:t,catId:e.id,value:l})},className:"w-full h-16 font-bold text-xl rounded transition-colors relative\n                            ".concat(n.clue.tripleStumper?"bg-orange-800 hover:bg-orange-700 text-yellow-400":"bg-blue-700 hover:bg-blue-600 text-yellow-400"),children:["$",l,(r||i)&&(0,a.jsxs)("span",{className:"absolute top-1 right-1 text-xs",children:[r?"\uD83D\uDEA9":"",i?"\uD83C\uDFAC":""]})]})},e.id)})},l))})]})})}()]})}let ea=Y.length>0?p.filter(e=>null!=e.season&&Y.includes(e.season)):p;return(0,a.jsxs)("div",{className:"min-h-screen bg-blue-950 text-white p-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-yellow-400 mb-2 text-center",children:"Jeopardy!"}),"files"===N&&(0,a.jsxs)("p",{className:"text-center text-blue-300 text-sm mb-4",children:[p.length," game",1!==p.length?"s":""," indexed from local JSON files"]}),(0,a.jsx)("div",{className:"flex justify-center gap-2 mb-8",children:["replay","random","custom"].map(e=>(0,a.jsx)("button",{onClick:()=>O(e),className:"px-5 py-2 rounded-lg font-bold capitalize transition-colors ".concat(T===e?"bg-yellow-400 text-blue-950":"bg-blue-800 hover:bg-blue-700"),children:"replay"===e?"\uD83D\uDCFC Replay":"random"===e?"\uD83C\uDFB2 Random":"\uD83D\uDD27 Custom"},e))}),"replay"===T&&(0,a.jsx)(a.Fragment,{children:0===p.length?(0,a.jsx)(f,{}):(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"bg-blue-900 rounded-xl p-4 mb-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>K(e=>!e),className:"px-3 py-1.5 rounded-lg text-sm font-bold transition-colors ".concat(H?"bg-yellow-400 text-blue-950":"bg-blue-800 hover:bg-blue-700"),children:H?"☰ Thin Rows: On":"☷ Thin Rows: Off"}),Y.length>0&&(0,a.jsx)("button",{onClick:()=>Q([]),className:"px-3 py-1.5 rounded-lg text-sm font-bold bg-blue-800 hover:bg-blue-700",children:"Clear Seasons"}),(0,a.jsxs)("span",{className:"text-sm text-blue-200",children:["Showing ",ea.length," of ",p.length," game",1!==p.length?"s":""]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-blue-300 mb-2 uppercase font-bold",children:"Season Filter (1–40)"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 max-h-36 overflow-y-auto pr-1",children:h.map(e=>{let l=Y.includes(e);return(0,a.jsx)("button",{onClick:()=>{Q(l=>l.includes(e)?l.filter(l=>l!==e):[...l,e].sort((e,l)=>e-l))},className:"min-w-9 px-2 py-1 rounded-md text-sm font-bold transition-colors ".concat(l?"bg-yellow-400 text-blue-950":"bg-blue-800 hover:bg-blue-700 text-blue-100"),children:e},e)})})]})]}),0===ea.length?(0,a.jsx)("div",{className:"text-center text-blue-200 py-8 bg-blue-900 rounded-xl",children:"No games match the selected season filter."}):H?(0,a.jsx)("div",{className:"space-y-1",children:ea.map(e=>{var l;return(0,a.jsx)("button",{onClick:()=>ee(e),disabled:S===e.id,className:"w-full bg-blue-800 hover:bg-blue-700 rounded-lg px-4 py-2 text-left transition-colors",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"font-bold text-yellow-300",children:["Show #",e.showNumber]}),(0,a.jsx)("div",{className:"text-gray-300",children:e.airDate}),(0,a.jsxs)("div",{className:"text-blue-300",children:["S",null!=(l=e.season)?l:"?"]}),(0,a.jsx)("div",{className:"text-blue-300",children:S===e.id?"Loading…":"".concat(e.categories.length||"?"," cats")})]})},e.id)})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ea.map(e=>{var l;return(0,a.jsxs)("button",{onClick:()=>ee(e),disabled:S===e.id,className:"bg-blue-800 hover:bg-blue-700 rounded-xl p-6 text-left transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsxs)("span",{className:"text-xl font-bold",children:["Show #",e.showNumber]}),e.isSpecial&&(0,a.jsx)("span",{className:"bg-yellow-400 text-blue-950 text-xs font-bold px-2 py-0.5 rounded-full",children:null!=(l=e.tournamentType)?l:"Special"})]}),(0,a.jsx)("div",{className:"text-gray-300 text-sm",children:e.airDate}),e.season&&(0,a.jsxs)("div",{className:"text-blue-300 text-sm",children:["Season ",e.season]}),(0,a.jsx)("div",{className:"text-sm text-blue-300 mt-2",children:S===e.id?"Loading game…":"".concat(e.categories.length||"?"," categories")})]},e.id)})})]})}),"random"===T&&(0,a.jsx)("div",{className:"max-w-lg mx-auto text-center",children:C?(0,a.jsxs)("div",{className:"text-gray-300",children:["Loading clue library… ",D.loaded.toLocaleString()," / ",D.total.toLocaleString()]}):0===r.length?(0,a.jsx)(f,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-gray-300 mb-6",children:["Picks 6 random categories and 5 random clues from each, drawn from all ",r.length," loaded game",1!==r.length?"s":"","."]}),(0,a.jsx)("button",{onClick:function(){if(0===r.length)return;let e=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"single";return[...e.flatMap(e=>e.categories.filter(e=>e.round===a&&e.clues.length>=t))].sort(()=>Math.random()-.5).slice(0,l).map(e=>({...e,clues:[...e.clues].sort(()=>Math.random()-.5).slice(0,t)}))}(r),l={id:"random-"+Date.now(),showNumber:0,airDate:"",season:null,isSpecial:!1,tournamentType:null,categories:e.map((e,l)=>({id:"rnd-".concat(l),name:e.name,round:e.round,position:e.position,clues:e.clues.map((e,t)=>({...e,id:e.clueId||"rnd-".concat(l,"-").concat(t)}))}))};J(l),Z(l,"single"),R(0)},className:"bg-yellow-400 text-blue-950 px-10 py-4 rounded-xl font-bold text-xl hover:bg-yellow-300 transition-colors",children:"\uD83C\uDFB2 Build Random Game"})]})}),"custom"===T&&(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:C?(0,a.jsxs)("div",{className:"text-center text-gray-300",children:["Loading clue library… ",D.loaded.toLocaleString()," / ",D.total.toLocaleString()]}):0===r.length?(0,a.jsx)(f,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-gray-300 mb-4 text-center",children:["Filter clues across all ",r.length," game",1!==r.length?"s":""," and build a custom board."]}),(0,a.jsxs)("div",{className:"bg-blue-900 rounded-xl p-6 space-y-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-blue-300 mb-1",children:"Search clues"}),(0,a.jsx)("input",{type:"text",value:$,onChange:e=>U(e.target.value),placeholder:"Search question text, answer, or category…",className:"w-full bg-blue-800 text-white placeholder-blue-400 border border-blue-600 rounded-lg px-3 py-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-blue-300 mb-2",children:"Clue type"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-3",children:[{key:"tripleStumpersOnly",label:"\uD83D\uDD34 Triple Stumpers"},{key:"dailyDoublesOnly",label:"⭐ Daily Doubles"},{key:"finalOnly",label:"\uD83C\uDFAF Final Jeopardy only"},{key:"flaggedOnly",label:"\uD83D\uDEA9 My Flagged"},{key:"mediaFlaggedOnly",label:"\uD83C\uDFAC Media Flagged"}].map(e=>{let{key:l,label:t}=e;return(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:!!G[l],onChange:e=>P(t=>({...t,[l]:e.target.checked||void 0})),className:"w-4 h-4 rounded"}),(0,a.jsx)("span",{className:"text-sm",children:t})]},l)})})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-blue-300 mb-1",children:"Min value ($)"}),(0,a.jsx)("input",{type:"number",step:"200",min:"0",value:null!=(l=G.minValue)?l:"",onChange:e=>P(l=>({...l,minValue:e.target.value?Number(e.target.value):void 0})),placeholder:"e.g. 800",className:"w-full bg-blue-800 text-white placeholder-blue-400 border border-blue-600 rounded-lg px-3 py-2"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-blue-300 mb-1",children:"Max value ($)"}),(0,a.jsx)("input",{type:"number",step:"200",min:"0",value:null!=(t=G.maxValue)?t:"",onChange:e=>P(l=>({...l,maxValue:e.target.value?Number(e.target.value):void 0})),placeholder:"e.g. 2000",className:"w-full bg-blue-800 text-white placeholder-blue-400 border border-blue-600 rounded-lg px-3 py-2"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-blue-300 mb-1",children:"Topic tags (must have all)"}),(0,a.jsx)("input",{type:"text",placeholder:"e.g. art, history (comma-separated)",defaultValue:(null!=(s=G.topicTags)?s:[]).join(", "),onChange:e=>{let l=e.target.value.split(",").map(e=>e.trim().toLowerCase()).filter(Boolean);P(e=>({...e,topicTags:l.length?l:void 0}))},className:"w-full bg-blue-800 text-white placeholder-blue-400 border border-blue-600 rounded-lg px-3 py-2"})]})]}),(0,a.jsx)("button",{onClick:el,disabled:W,className:"w-full bg-yellow-400 text-blue-950 py-4 rounded-xl font-bold text-xl hover:bg-yellow-300 transition-colors disabled:opacity-50",children:W?"Building…":"\uD83D\uDD27 Build Custom Game"})]})})]})}function f(){return(0,a.jsxs)("div",{className:"text-center text-gray-300 max-w-xl mx-auto",children:[(0,a.jsx)("p",{className:"text-xl mb-4",children:"No games loaded yet."}),(0,a.jsx)("p",{className:"mb-2",children:"Scrape J-Archive games and commit the JSON files:"}),(0,a.jsx)("pre",{className:"bg-blue-900 rounded-xl p-4 text-left text-sm text-yellow-200 mt-4 overflow-x-auto",children:'# Scrape individual games\nnpm run scrape -- 8000 8001 8002\n\n# Or scrape a whole season\nnpm run scrape -- --season 40\n\n# Commit and push to publish on GitHub Pages\ngit add public/data/jeopardy/\ngit commit -m "feat: add scraped games"\ngit push'})]})}},9693:(e,l,t)=>{Promise.resolve().then(t.bind(t,412))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9693)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{721:(e,t,s)=>{Promise.resolve().then(s.bind(s,4133))},4133:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var l=s(5155),n=s(2115),a=s(2619),r=s.n(a),i=s(2599);function c(){var e;let[t,s]=(0,n.useState)([]),[a,c]=(0,n.useState)(!1),[d,x]=(0,n.useState)(0),[o,m]=(0,n.useState)(0),[u,p]=(0,n.useState)(0),[h,g]=(0,n.useState)(0),[b,j]=(0,n.useState)({}),[y,f]=(0,n.useState)(null),[N,v]=(0,n.useState)(!0);if((0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("/triviaparty","/data/questions/sheets-import-questions.json"));if(!e.ok)return void s([]);let t=await e.json(),l=[...(Array.isArray(null==t?void 0:t.questions)?t.questions:[]).filter(e=>{if("media"!==e.type||a)return!0;let t=e.mediaUrl||"";return!e.needsMediaReview&&!/youtube\.com\/clip\//i.test(t)}).map((e,t)=>({...e,id:e.id||"static-".concat(t)}))].sort(()=>Math.random()-.5).slice(0,20);s(l)}catch(e){s([])}finally{v(!1)}})()},[a]),N)return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-950 p-8 text-white",children:[(0,l.jsx)(r(),{href:"/",className:"text-purple-300 hover:text-purple-200 font-bold",children:"← Main Menu"}),(0,l.jsx)("div",{className:"h-[80vh] flex items-center justify-center text-2xl",children:"Loading..."})]});if(0===t.length)return(0,l.jsx)("div",{className:"min-h-screen bg-gray-950 text-white flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)(r(),{href:"/",className:"text-purple-300 hover:text-purple-200 font-bold",children:"← Main Menu"})}),(0,l.jsx)("div",{className:"text-5xl mb-4",children:"\uD83C\uDF89"}),(0,l.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Party Mode"}),(0,l.jsx)("p",{className:"text-gray-400",children:"No questions available yet. Add questions to get started!"})]})});if(d>=t.length)return(0,l.jsx)("div",{className:"min-h-screen bg-gray-950 text-white flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFC6"}),(0,l.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Game Over!"}),(0,l.jsxs)("p",{className:"text-2xl text-yellow-400",children:["Score: ",o,"/",t.length]}),(0,l.jsxs)("p",{className:"text-xl text-purple-300 mt-2",children:["Points: ",u,"/",h]}),!!Object.keys(b).length&&(0,l.jsxs)("div",{className:"mt-4 bg-gray-800 rounded-lg p-3 text-left max-w-md mx-auto",children:[(0,l.jsx)("div",{className:"text-xs text-gray-400 mb-2 uppercase",children:"By question type"}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-1 text-sm",children:Object.entries(b).map(e=>{let[t,s]=e;return(0,l.jsxs)("div",{className:"flex justify-between bg-gray-700 rounded px-2 py-1",children:[(0,l.jsx)("span",{children:t.replace(/_/g," ")}),(0,l.jsxs)("span",{className:"text-yellow-300",children:[s.earned,"/",s.possible]})]},t)})})]}),(0,l.jsx)("button",{onClick:()=>{x(0),m(0),p(0),g(0),j({}),f(null)},className:"mt-8 bg-purple-600 hover:bg-purple-500 px-8 py-3 rounded-xl font-bold text-xl",children:"Play Again"})]})});let w=t[d],k=("string"==typeof w.category?w.category:null==(e=w.category)?void 0:e.name)||w.type,M="ranking"===w.type?"":w.question;return(0,l.jsx)("div",{className:"min-h-screen bg-gray-950 text-white p-8",children:(0,l.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)(r(),{href:"/",className:"text-purple-300 hover:text-purple-200 font-bold",children:"← Main Menu"})}),(0,l.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,l.jsxs)("span",{className:"text-gray-400",children:[d+1,"/",t.length]}),(0,l.jsxs)("span",{className:"text-yellow-400 font-bold",children:["Score: ",o]})]}),(0,l.jsxs)("label",{className:"flex items-center gap-2 mb-4 text-sm text-gray-300",children:[(0,l.jsx)("input",{type:"checkbox",checked:a,onChange:()=>{c(e=>!e),x(0),m(0),p(0),g(0),j({}),f(null)},className:"h-4 w-4"}),"Include flagged clip media (testing)"]}),(0,l.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-8",children:[(0,l.jsxs)("div",{className:"text-sm text-yellow-300 mb-2",children:["Points: ",u,"/",h]}),(0,l.jsx)("div",{className:"text-sm text-purple-400 mb-2 uppercase",children:k}),M&&(0,l.jsx)("div",{className:"text-xl font-bold mb-6",children:M}),(0,l.jsx)(i.A,{question:w,onAnswer:function(e){null===y&&(f(e.correct),e.correct&&m(e=>e+1),p(t=>t+e.pointsEarned),g(t=>t+e.pointsPossible),j(t=>{var s,l;return{...t,[e.type]:{earned:((null==(s=t[e.type])?void 0:s.earned)||0)+e.pointsEarned,possible:((null==(l=t[e.type])?void 0:l.possible)||0)+e.pointsPossible}}}))},onRerollPrompt:function(e){let l=t.filter(t=>"prompt"===t.type&&t.prompt===e);if(!l.length)return;let n=l[Math.floor(Math.random()*l.length)];s(e=>e.map((e,t)=>t===d?n:e)),f(null)}}),null!==y&&(0,l.jsx)("div",{className:"mt-4 text-center text-xl font-bold ".concat(y?"text-green-400":"text-red-400"),children:y?"✓ Correct!":"✗ Incorrect"}),!!Object.keys(b).length&&(0,l.jsxs)("div",{className:"mt-4 bg-gray-900 rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-xs text-gray-400 mb-2 uppercase",children:"By question type"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(b).map(e=>{let[t,s]=e;return(0,l.jsxs)("div",{className:"flex justify-between bg-gray-800 rounded px-2 py-1",children:[(0,l.jsx)("span",{children:t.replace(/_/g," ")}),(0,l.jsxs)("span",{className:"text-yellow-300",children:[s.earned,"/",s.possible]})]},t)})})]}),null!==y&&(0,l.jsx)("button",{onClick:function(){x(e=>e+1),f(null)},className:"mt-6 w-full bg-purple-600 hover:bg-purple-500 py-3 rounded-xl font-bold text-xl",children:"Next →"})]})]})})}}},e=>{e.O(0,[619,239,599,441,255,358],()=>e(e.s=721)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[546],{2321:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var l=s(5155),r=s(2115),a=s(2619),n=s.n(a);let i=[{value:"multiple_choice",label:"Multiple Choice",icon:"\uD83D\uDD24"},{value:"open_ended",label:"Open Ended",icon:"✍️"},{value:"list",label:"List",icon:"\uD83D\uDCCB"},{value:"grouping",label:"Grouping",icon:"\uD83D\uDDC2️"},{value:"this_or_that",label:"This or That",icon:"⚔️"},{value:"ranking",label:"Ranking",icon:"\uD83D\uDCCA"},{value:"media",label:"Media",icon:"\uD83D\uDDBC️"},{value:"prompt",label:"Prompt",icon:"\uD83E\uDDE9"}],o=["very_easy","easy","medium","hard","very_hard"],c="triviaparty-creator-questions";function u(e){let t={question:"",difficulty:"medium",category:""};switch(e){case"multiple_choice":return{...t,type:e,options:["","","",""],correctAnswer:""};case"open_ended":return{...t,type:e,answer:"",acceptedAnswers:[]};case"list":return{...t,type:e,answers:[""],minRequired:1};case"grouping":return{...t,type:e,groupName:"",correctItems:[""],items:["",""]};case"this_or_that":return{...t,type:e,categoryA:"",categoryB:"",categoryC:"",items:[{text:"",answer:"A"}]};case"ranking":return{...t,type:e,criteria:"",items:[{text:"",rank:1,value:""}]};case"media":return{...t,type:e,mediaType:"image",mediaUrl:"",answer:"",acceptedAnswers:[]};case"prompt":return{...t,type:e,prompt:"",answer:"",acceptedAnswers:[]}}}function d(e){let{items:t,onChange:s,placeholder:a,label:n}=e,[i,o]=(0,r.useState)("");return(0,l.jsxs)("div",{children:[n&&(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:n}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 bg-gray-700 rounded-lg p-2 min-h-[42px]",children:[t.map((e,r)=>(0,l.jsxs)("span",{className:"inline-flex items-center bg-purple-700/60 text-sm rounded-full px-3 py-1",children:[e,(0,l.jsx)("button",{onClick:()=>s(t.filter((e,t)=>t!==r)),className:"ml-1 text-gray-300 hover:text-white",children:"\xd7"})]},r)),(0,l.jsx)("input",{value:i,onChange:e=>o(e.target.value),onKeyDown:e=>{("Enter"===e.key||","===e.key)&&i.trim()&&(e.preventDefault(),s([...t,i.trim()]),o("")),"Backspace"===e.key&&!i&&t.length&&s(t.slice(0,-1))},placeholder:0===t.length?a:"",className:"flex-1 min-w-[120px] bg-transparent outline-none text-white text-sm placeholder-gray-500"})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Press Enter or comma to add"})]})}function p(e,t,s,l){return"g".concat(e,"-").concat("single"===t?"s":"double"===t?"d":"f","-c").concat(s,"-r").concat(l)}function g(e,t,s){let l="double"===t?400:200,r=Array.from({length:"final"===t?1:5}).map((r,a)=>{let n="final"===t;return{clueId:p(e,t,s,a),question:"",answer:"",value:n?null:l*(a+1),dailyDouble:!1,tripleStumper:!1,isFinalJeopardy:n,category:"",round:t,rowIndex:a}});return{name:"final"===t?"FINAL JEOPARDY":"CATEGORY ".concat(s+1),round:t,position:s,clues:r}}function m(){let e=Date.now();return{gameId:e,showNumber:e,airDate:new Date().toISOString().slice(0,10),season:null,isSpecial:!1,tournamentType:null,categories:[...Array.from({length:6}).map((t,s)=>g(e,"single",s)),...Array.from({length:6}).map((t,s)=>g(e,"double",s)),g(e,"final",0)]}}function x(e){let{q:t,set:s}=e,r=t.options||["","","",""];return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400",children:"Options (click the left dot to mark the correct answer)"}),r.map((e,a)=>(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>s({...t,correctAnswer:e}),className:"w-6 h-6 rounded-full border border-gray-400 flex items-center justify-center hover:border-green-400",title:"Mark as correct",children:(0,l.jsx)("span",{className:"w-3 h-3 rounded-full ".concat(t.correctAnswer===e&&e.trim()?"bg-green-500":"bg-transparent")})}),(0,l.jsx)("input",{value:e,onChange:e=>s(function(e,t,s){let l=[...e.options||[]],r=l[t]||"";return l[t]=s,{...e,options:l,correctAnswer:e.correctAnswer===r?s:e.correctAnswer}}(t,a,e.target.value)),placeholder:"Option ".concat(a+1),className:"flex-1 bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500"}),r.length>2&&(0,l.jsx)("button",{onClick:()=>{let l=r.filter((e,t)=>t!==a);s({...t,options:l,correctAnswer:t.correctAnswer===e?"":t.correctAnswer})},className:"text-red-400 hover:text-red-300 text-sm",children:"✕"})]},a)),r.length<8&&(0,l.jsx)("button",{onClick:()=>s({...t,options:[...r,""]}),className:"text-purple-400 hover:text-purple-300 text-sm",children:"+ Add Option"})]})}function h(e){let{q:t,set:s}=e;return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Answer"}),(0,l.jsx)("input",{value:t.answer||"",onChange:e=>s({...t,answer:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Primary answer"})]}),(0,l.jsx)(d,{items:t.acceptedAnswers||[],onChange:e=>s({...t,acceptedAnswers:e}),label:"Accepted Answers (alternatives)",placeholder:"Type an alternative answer…"})]})}function y(e){let{q:t,set:s}=e;return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)(d,{items:t.answers||[],onChange:e=>s({...t,answers:e}),label:"All Valid Answers",placeholder:"Type an answer…"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Minimum Required"}),(0,l.jsx)("input",{type:"number",min:1,value:t.minRequired||1,onChange:e=>s({...t,minRequired:parseInt(e.target.value)||1}),className:"w-24 bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500"})]})]})}function b(e){let{q:t,set:s}=e;return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Group Name"}),(0,l.jsx)("input",{value:t.groupName||"",onChange:e=>s({...t,groupName:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g. Wheel of Fortune Wedges"})]}),(0,l.jsx)(d,{items:t.correctItems||[],onChange:e=>s({...t,correctItems:e}),label:"Correct Items (belong to the group)",placeholder:"Type a correct item…"}),(0,l.jsx)(d,{items:t.items||[],onChange:e=>s({...t,items:e}),label:"All Items Shown (correct + incorrect, shuffled)",placeholder:"Type an item…"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"All items includes both correct and incorrect options that will be displayed to the player."})]})}function v(e){let{q:t,set:s}=e,r=t.items||[];return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Category A"}),(0,l.jsx)("input",{value:t.categoryA||"",onChange:e=>s({...t,categoryA:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g. Wheel of Fortune"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Category B"}),(0,l.jsx)("input",{value:t.categoryB||"",onChange:e=>s({...t,categoryB:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g. Jeopardy!"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Category C (optional)"}),(0,l.jsx)("input",{value:t.categoryC||"",onChange:e=>s({...t,categoryC:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"(optional)"})]})]}),(0,l.jsx)("label",{className:"block text-sm text-gray-400",children:"Items"}),r.map((e,a)=>(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{value:e.text,onChange:l=>{let n=[...r];n[a]={...e,text:l.target.value},s({...t,items:n})},placeholder:"Item text",className:"flex-1 bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500"}),(0,l.jsxs)("select",{value:e.answer,onChange:l=>{let n=[...r];n[a]={...e,answer:l.target.value},s({...t,items:n})},className:"bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500",children:[(0,l.jsx)("option",{value:"A",children:t.categoryA||"A"}),(0,l.jsx)("option",{value:"B",children:t.categoryB||"B"}),t.categoryC&&(0,l.jsx)("option",{value:"C",children:t.categoryC||"C"})]}),r.length>1&&(0,l.jsx)("button",{onClick:()=>s({...t,items:r.filter((e,t)=>t!==a)}),className:"text-red-400 hover:text-red-300 text-sm",children:"✕"})]},a)),(0,l.jsx)("button",{onClick:()=>s({...t,items:[...r,{text:"",answer:"A"}]}),className:"text-purple-400 hover:text-purple-300 text-sm",children:"+ Add Item"})]})}function f(e){let{q:t,set:s}=e,r=t.items||[];return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Criteria (what are we ranking by?)"}),(0,l.jsx)("input",{value:t.criteria||"",onChange:e=>s({...t,criteria:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g. Game Shows Aired First"})]}),(0,l.jsx)("label",{className:"block text-sm text-gray-400",children:"Items (in correct rank order, #1 first)"}),r.map((e,a)=>(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-yellow-400 font-bold w-6 text-center",children:a+1}),(0,l.jsx)("input",{value:e.text,onChange:l=>{let n=[...r];n[a]={...e,text:l.target.value,rank:a+1},s({...t,items:n})},placeholder:"Item text",className:"flex-1 bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500"}),(0,l.jsx)("input",{value:e.value||"",onChange:l=>{let n=[...r];n[a]={...e,value:l.target.value},s({...t,items:n})},placeholder:"Value (optional, e.g. year)",className:"w-32 bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500"}),r.length>1&&(0,l.jsx)("button",{onClick:()=>{let e=r.filter((e,t)=>t!==a).map((e,t)=>({...e,rank:t+1}));s({...t,items:e})},className:"text-red-400 hover:text-red-300 text-sm",children:"✕"})]},a)),(0,l.jsx)("button",{onClick:()=>s({...t,items:[...r,{text:"",rank:r.length+1,value:""}]}),className:"text-purple-400 hover:text-purple-300 text-sm",children:"+ Add Item"})]})}function j(e){var t;let{q:s,set:r}=e,a=s.options||["","","",""],n=a.some(e=>e.trim().length>0)||!!(null==(t=s.correctAnswer)?void 0:t.trim());return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Media Type"}),(0,l.jsxs)("select",{value:s.mediaType||"image",onChange:e=>r({...s,mediaType:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500",children:[(0,l.jsx)("option",{value:"image",children:"Image"}),(0,l.jsx)("option",{value:"video",children:"Video"}),(0,l.jsx)("option",{value:"audio",children:"Audio"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Media URL"}),(0,l.jsx)("input",{value:s.mediaUrl||"",onChange:e=>r({...s,mediaUrl:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"https://..."})]})]}),s.mediaUrl&&(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-2 text-center",children:[("image"===s.mediaType||!s.mediaType)&&(0,l.jsx)("img",{src:s.mediaUrl,alt:"Preview",className:"max-h-40 mx-auto rounded"}),"video"===s.mediaType&&(0,l.jsx)("video",{src:s.mediaUrl,controls:!0,className:"max-h-40 mx-auto rounded"}),"audio"===s.mediaType&&(0,l.jsx)("audio",{src:s.mediaUrl,controls:!0,className:"mx-auto"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Answer Format"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>r({...s,options:void 0,correctAnswer:void 0}),className:"px-3 py-1.5 rounded-lg text-sm ".concat(n?"bg-gray-700 hover:bg-gray-600":"bg-purple-600 text-white"),children:"Open Ended"}),(0,l.jsx)("button",{type:"button",onClick:()=>{var e;return r({...s,options:(null==(e=s.options)?void 0:e.length)?s.options:["","","",""],correctAnswer:s.correctAnswer||""})},className:"px-3 py-1.5 rounded-lg text-sm ".concat(n?"bg-purple-600 text-white":"bg-gray-700 hover:bg-gray-600"),children:"Multiple Choice"})]})]}),n?(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400",children:"Choices (click the left dot to mark correct)"}),a.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>r({...s,correctAnswer:e}),className:"w-6 h-6 rounded-full border border-gray-400 flex items-center justify-center hover:border-green-400",title:"Mark as correct",children:(0,l.jsx)("span",{className:"w-3 h-3 rounded-full ".concat(s.correctAnswer===e&&e.trim()?"bg-green-500":"bg-transparent")})}),(0,l.jsx)("input",{value:e,onChange:e=>r(function(e,t,s){let l=[...e.options||[]],r=l[t]||"";return l[t]=s,{...e,options:l,correctAnswer:e.correctAnswer===r?s:e.correctAnswer}}(s,t,e.target.value)),placeholder:"Option ".concat(t+1),className:"flex-1 bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500"}),a.length>2&&(0,l.jsx)("button",{onClick:()=>{let l=a.filter((e,s)=>s!==t);r({...s,options:l,correctAnswer:s.correctAnswer===e?"":s.correctAnswer})},className:"text-red-400 hover:text-red-300 text-sm",children:"✕"})]},t)),a.length<8&&(0,l.jsx)("button",{onClick:()=>r({...s,options:[...a,""]}),className:"text-purple-400 hover:text-purple-300 text-sm",children:"+ Add Option"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Answer"}),(0,l.jsx)("input",{value:s.answer||"",onChange:e=>r({...s,answer:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Primary answer"})]}),(0,l.jsx)(d,{items:s.acceptedAnswers||[],onChange:e=>r({...s,acceptedAnswers:e}),label:"Accepted Answers (alternatives)",placeholder:"Type an alternative answer…"})]})]})}function N(e){let{q:t,set:s}=e;return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Prompt Label"}),(0,l.jsx)("input",{value:t.prompt||"",onChange:e=>s({...t,prompt:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g. Name It, Fill in the Blank"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Answer"}),(0,l.jsx)("input",{value:t.answer||"",onChange:e=>s({...t,answer:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Primary answer"})]}),(0,l.jsx)(d,{items:t.acceptedAnswers||[],onChange:e=>s({...t,acceptedAnswers:e}),label:"Accepted Answers (alternatives)",placeholder:"Type an alternative answer…"})]})}function w(e){let{question:t,setQuestion:s}=e;switch(t.type){case"multiple_choice":return(0,l.jsx)(x,{q:t,set:s});case"open_ended":return(0,l.jsx)(h,{q:t,set:s});case"list":return(0,l.jsx)(y,{q:t,set:s});case"grouping":return(0,l.jsx)(b,{q:t,set:s});case"this_or_that":return(0,l.jsx)(v,{q:t,set:s});case"ranking":return(0,l.jsx)(f,{q:t,set:s});case"media":return(0,l.jsx)(j,{q:t,set:s});case"prompt":return(0,l.jsx)(N,{q:t,set:s});default:return(0,l.jsx)("div",{className:"text-gray-400 text-sm",children:"Unknown type"})}}function k(e){let{q:t,isSelected:s,onSelect:r,onDelete:a}=e,n=i.find(e=>e.value===t.type);return(0,l.jsxs)("div",{onClick:r,className:"flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ".concat(s?"bg-purple-700/40 border border-purple-500":"bg-gray-800 hover:bg-gray-750 border border-gray-700"),children:[(0,l.jsx)("span",{className:"text-lg",children:(null==n?void 0:n.icon)||"❓"}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("div",{className:"text-sm font-medium truncate",children:t.question||"(untitled)"}),(0,l.jsxs)("div",{className:"text-xs text-gray-400",children:[(null==n?void 0:n.label)||t.type," \xb7 ",t.difficulty]})]}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),a()},className:"text-red-400 hover:text-red-300 text-sm p-1",title:"Delete",children:"\uD83D\uDDD1️"})]})}function C(e){let{onImport:t,onClose:s}=e,[a,n]=(0,r.useState)(""),[i,o]=(0,r.useState)("");return(0,l.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:s,children:(0,l.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 max-w-lg w-full max-h-[80vh] overflow-auto",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Import Questions"}),(0,l.jsx)("textarea",{value:a,onChange:e=>{n(e.target.value),o("")},placeholder:'Paste JSON here (array of questions or {"questions": [...]})',className:"w-full h-48 bg-gray-700 rounded-lg p-3 text-sm text-white font-mono placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500 resize-y"}),i&&(0,l.jsx)("p",{className:"text-red-400 text-sm mt-2",children:i}),(0,l.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,l.jsx)("button",{onClick:s,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-500 text-sm font-bold",children:"Cancel"}),(0,l.jsx)("button",{onClick:function(){try{let e=JSON.parse(a),l=Array.isArray(e)?e:e.questions;if(!Array.isArray(l))return void o('JSON must be an array or have a "questions" array');t(l),s()}catch(e){o("Invalid JSON")}},className:"px-4 py-2 rounded-lg bg-purple-600 hover:bg-purple-500 text-sm font-bold",children:"Import"})]})]})})}function A(){var e,t,s;let[a,d]=(0,r.useState)([]),[g,x]=(0,r.useState)(null),[h,y]=(0,r.useState)(!1),[b,v]=(0,r.useState)(""),[f,j]=(0,r.useState)([]),[N,A]=(0,r.useState)("questions"),[q,S]=(0,r.useState)(()=>m());(0,r.useEffect)(()=>{d(function(){try{let e=localStorage.getItem(c);return e?JSON.parse(e):[]}catch(e){return[]}}()),fetch("".concat("/triviaparty","/data/questions/sheets-import-questions.json")).then(e=>e.json()).then(e=>{j([...new Set((e.questions||[]).map(e=>e.category).filter(Boolean))].sort())}).catch(()=>{})},[]),(0,r.useEffect)(()=>{localStorage.setItem(c,JSON.stringify(a))},[a]);let D=(0,r.useCallback)(e=>{v(e),setTimeout(()=>v(""),2500)},[]),I=null!==g?a[g]:null;function O(e){null!==g&&d(t=>t.map((t,s)=>s===g?e:t))}let T=I?function(e){var t,s,l,r,a,n,i,o,c,u,d,p,g,m;let x=[];switch(!e.question.trim()&&x.push("Question text is required"),e.type){case"multiple_choice":(e.options||[]).filter(e=>e.trim()).length<2&&x.push("Need at least 2 options"),(null==(t=e.correctAnswer)?void 0:t.trim())||x.push("Select a correct answer");break;case"open_ended":(null==(s=e.answer)?void 0:s.trim())||x.push("Answer is required");break;case"list":(null==(l=e.answers)?void 0:l.length)||x.push("Add at least one answer");break;case"grouping":(null==(r=e.correctItems)?void 0:r.length)||x.push("Add at least one correct item"),(null==(a=e.items)?void 0:a.length)&&!(e.items.length<2)||x.push("Add at least 2 total items");break;case"this_or_that":(null==(n=e.categoryA)?void 0:n.trim())||x.push("Category A is required"),(null==(i=e.categoryB)?void 0:i.trim())||x.push("Category B is required"),(null==(o=e.items)?void 0:o.length)||x.push("Add at least one item");break;case"ranking":(null==(c=e.items)?void 0:c.length)&&!(e.items.length<2)||x.push("Add at least 2 items");break;case"media":{let t=(e.options||[]).some(e=>e.trim().length>0)||!!(null==(u=e.correctAnswer)?void 0:u.trim());(null==(d=e.mediaUrl)?void 0:d.trim())||x.push("Media URL is required"),t?((e.options||[]).filter(e=>e.trim().length>0).length<2&&x.push("Media multiple choice needs at least 2 options"),(null==(g=e.correctAnswer)?void 0:g.trim())||x.push("Select the correct media option")):(null==(p=e.answer)?void 0:p.trim())||x.push("Answer is required");break}case"prompt":(null==(m=e.answer)?void 0:m.trim())||x.push("Answer is required")}return x}(I):[];return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-950 text-white",children:[b&&(0,l.jsx)("div",{className:"fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-xl z-50 animate-pulse",children:b}),h&&(0,l.jsx)(C,{onImport:function(e){d(t=>[...t,...e]),D("Imported ".concat(e.length," questions"))},onClose:()=>y(!1)}),(0,l.jsx)("div",{className:"border-b border-gray-800 bg-gray-900/80 backdrop-blur sticky top-0 z-40",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(n(),{href:"/",className:"text-purple-300 hover:text-purple-200 font-bold",children:"← Menu"}),(0,l.jsx)("h1",{className:"text-xl font-bold",children:"✏️ Creator"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:()=>A("questions"),className:"px-3 py-1 rounded-lg text-sm ".concat("questions"===N?"bg-purple-600":"bg-gray-700 hover:bg-gray-600"),children:"Questions"}),(0,l.jsx)("button",{onClick:()=>A("jeopardy"),className:"px-3 py-1 rounded-lg text-sm ".concat("jeopardy"===N?"bg-purple-600":"bg-gray-700 hover:bg-gray-600"),children:"Jeopardy Game"})]}),"questions"===N&&(0,l.jsxs)("span",{className:"text-sm text-gray-400",children:[a.length," question",1!==a.length?"s":""]})]}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:"questions"===N?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>y(!0),className:"px-3 py-1.5 rounded-lg bg-gray-700 hover:bg-gray-600 text-sm font-medium",children:"Import"}),(0,l.jsx)("button",{onClick:function(){if(!a.length)return void D("No questions to export");!function(e,t){let s=new Blob([JSON.stringify({questions:e,count:e.length},null,2)],{type:"application/json"}),l=URL.createObjectURL(s),r=document.createElement("a");r.href=l,r.download=t,r.click(),URL.revokeObjectURL(l)}(a,"triviaparty-questions-".concat(new Date().toISOString().slice(0,10),".json")),D("Exported ".concat(a.length," questions"))},className:"px-3 py-1.5 rounded-lg bg-blue-600 hover:bg-blue-500 text-sm font-medium",children:"Export JSON"}),a.length>0&&(0,l.jsx)("button",{onClick:function(){confirm("Delete all questions? This cannot be undone.")&&(d([]),x(null))},className:"px-3 py-1.5 rounded-lg bg-red-700 hover:bg-red-600 text-sm font-medium",children:"Clear All"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>S(m()),className:"px-3 py-1.5 rounded-lg bg-gray-700 hover:bg-gray-600 text-sm font-medium",children:"New Game"}),(0,l.jsx)("button",{onClick:function(){let e={...q,categories:q.categories.map(e=>({...e,clues:e.clues.map((t,s)=>({...t,clueId:p(q.gameId,e.round,e.position,s),rowIndex:s,category:e.name,round:e.round,isFinalJeopardy:"final"===e.round,value:"final"===e.round?null:t.value}))}))},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(t),l=document.createElement("a");l.href=s,l.download="game-".concat(q.gameId,".json"),l.click(),URL.revokeObjectURL(s);let r=new Blob([JSON.stringify({gameId:e.gameId,showNumber:e.showNumber,airDate:e.airDate,season:e.season,isSpecial:e.isSpecial,tournamentType:e.tournamentType,file:"game-".concat(e.gameId,".json")},null,2)],{type:"application/json"}),a=URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download="game-".concat(e.gameId,".index-entry.json"),n.click(),URL.revokeObjectURL(a),D("Exported Jeopardy game + index entry")},className:"px-3 py-1.5 rounded-lg bg-blue-600 hover:bg-blue-500 text-sm font-medium",children:"Export Game JSON"})]})})]})}),"questions"===N?(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6 flex gap-6",style:{minHeight:"calc(100vh - 60px)"},children:[(0,l.jsx)("div",{className:"w-80 shrink-0",children:(0,l.jsxs)("div",{className:"sticky top-20",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-xs text-gray-400 uppercase mb-2 font-bold",children:"Add New Question"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2",children:i.map(e=>(0,l.jsxs)("button",{onClick:()=>(function(e){let t=u(e);d(e=>[...e,t]),x(a.length)})(e.value),className:"flex items-center gap-2 p-2 rounded-lg bg-gray-800 hover:bg-gray-700 border border-gray-700 text-sm transition-colors",children:[(0,l.jsx)("span",{children:e.icon}),(0,l.jsx)("span",{className:"truncate",children:e.label})]},e.value))})]}),(0,l.jsxs)("div",{className:"space-y-2 max-h-[calc(100vh-220px)] overflow-y-auto pr-1",children:[0===a.length&&(0,l.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,l.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCDD"}),(0,l.jsxs)("p",{className:"text-sm",children:["No questions yet.",(0,l.jsx)("br",{}),"Click a type above to start!"]})]}),a.map((e,t)=>(0,l.jsx)(k,{q:e,isSelected:g===t,onSelect:()=>x(t),onDelete:()=>{d(e=>e.filter((e,s)=>s!==t)),g===t?x(null):null!==g&&g>t&&x(g-1)}},t))]})]})}),(0,l.jsx)("div",{className:"flex-1 min-w-0",children:I?(0,l.jsxs)("div",{className:"bg-gray-900 rounded-2xl border border-gray-800 p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"text-2xl",children:null==(e=i.find(e=>e.value===I.type))?void 0:e.icon}),(0,l.jsx)("select",{value:I.type,onChange:e=>{let t=u(e.target.value);t.question=I.question,t.difficulty=I.difficulty,t.category=I.category,O(t)},className:"bg-gray-700 rounded-lg px-3 py-2 text-white font-bold outline-none focus:ring-2 focus:ring-purple-500",children:i.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:function(){if(null===g||!I)return;let e=JSON.parse(JSON.stringify(I));d(t=>[...t.slice(0,g+1),e,...t.slice(g+1)]),x(g+1),D("Duplicated!")},className:"px-3 py-1.5 rounded-lg bg-gray-700 hover:bg-gray-600 text-sm",title:"Duplicate",children:"\uD83D\uDCCB Duplicate"}),(0,l.jsx)("button",{onClick:function(){null!==g&&(d(e=>e.filter((e,t)=>t!==g)),x(null))},className:"px-3 py-1.5 rounded-lg bg-red-700 hover:bg-red-600 text-sm",title:"Delete",children:"\uD83D\uDDD1️ Delete"})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Question / Title"}),(0,l.jsx)("textarea",{value:I.question,onChange:e=>O({...I,question:e.target.value}),rows:2,className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500 resize-y",placeholder:"Enter your question…"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Difficulty"}),(0,l.jsx)("select",{value:I.difficulty,onChange:e=>O({...I,difficulty:e.target.value}),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500",children:o.map(e=>(0,l.jsx)("option",{value:e,children:e.replace(/_/g," ")},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Category"}),(0,l.jsx)("input",{value:"string"==typeof I.category?I.category:(null==(t=I.category)?void 0:t.name)||"",onChange:e=>O({...I,category:e.target.value}),list:"category-list",className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g. ancient-history"}),(0,l.jsx)("datalist",{id:"category-list",children:f.map(e=>(0,l.jsx)("option",{value:e},e))})]})]})]}),(0,l.jsx)("hr",{className:"border-gray-700"}),(0,l.jsx)(w,{question:I,setQuestion:O}),T.length>0&&(0,l.jsxs)("div",{className:"bg-red-900/30 border border-red-700 rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-red-400 text-sm font-bold mb-1",children:"Issues:"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-red-300 text-sm space-y-1",children:T.map((e,t)=>(0,l.jsx)("li",{children:e},t))})]}),(0,l.jsxs)("details",{className:"bg-gray-800 rounded-lg",children:[(0,l.jsx)("summary",{className:"px-4 py-2 text-sm text-gray-400 cursor-pointer hover:text-gray-300",children:"JSON Preview"}),(0,l.jsx)("pre",{className:"px-4 pb-3 text-xs text-green-300 overflow-x-auto",children:JSON.stringify(I,null,2)})]})]}):(0,l.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,l.jsxs)("div",{className:"text-center text-gray-500",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"✏️"}),(0,l.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Question Creator"}),(0,l.jsx)("p",{className:"text-gray-400 max-w-md",children:"Create trivia questions for all game types. Click a question type on the left to get started, or import existing questions from JSON."})]})})})]}):(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,l.jsxs)("div",{className:"bg-gray-900 rounded-2xl border border-gray-800 p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Game ID"}),(0,l.jsx)("input",{type:"number",value:q.gameId,onChange:e=>{let t=Number(e.target.value)||q.gameId;S(e=>({...e,gameId:t,categories:e.categories.map(e=>({...e,clues:e.clues.map((s,l)=>({...s,clueId:p(t,e.round,e.position,l)}))}))}))},className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Show Number"}),(0,l.jsx)("input",{type:"number",value:q.showNumber,onChange:e=>S(t=>({...t,showNumber:Number(e.target.value)||0})),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Air Date"}),(0,l.jsx)("input",{value:q.airDate,onChange:e=>S(t=>({...t,airDate:e.target.value})),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500",placeholder:"YYYY-MM-DD or long date"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Season (optional)"}),(0,l.jsx)("input",{type:"number",value:null!=(s=q.season)?s:"",onChange:e=>{let t=e.target.value.trim();S(e=>({...e,season:t?Number(t):null}))},className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Tournament Type (optional)"}),(0,l.jsx)("input",{value:q.tournamentType||"",onChange:e=>S(t=>({...t,tournamentType:e.target.value||null})),className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,l.jsx)("div",{className:"flex items-end",children:(0,l.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,l.jsx)("input",{type:"checkbox",checked:q.isSpecial,onChange:e=>S(t=>({...t,isSpecial:e.target.checked}))}),"Special Episode"]})})]}),["single","double","final"].map(e=>{let t=q.categories.filter(t=>t.round===e).sort((e,t)=>e.position-t.position);return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold capitalize",children:[e," Round"]}),t.map(t=>(0,l.jsxs)("div",{className:"bg-gray-800 rounded-xl p-4 space-y-3 border border-gray-700",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("span",{className:"text-xs uppercase text-gray-400",children:["Category ",t.position+1]}),(0,l.jsx)("input",{value:t.name,onChange:s=>{let l=s.target.value;S(s=>({...s,categories:s.categories.map(s=>s.round!==e||s.position!==t.position?s:{...s,name:l,clues:s.clues.map(e=>({...e,category:l}))})}))},className:"flex-1 bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Category name"})]}),t.clues.map((s,r)=>{var a;return(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-2 items-start",children:["final"!==e&&(0,l.jsx)("input",{type:"number",value:null!=(a=s.value)?a:0,onChange:s=>{let l=Number(s.target.value)||0;S(s=>({...s,categories:s.categories.map(s=>s.round!==e||s.position!==t.position?s:{...s,clues:s.clues.map((e,t)=>t===r?{...e,value:l}:e)})}))},className:"md:col-span-2 bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500"}),(0,l.jsx)("textarea",{value:s.question,onChange:s=>{let l=s.target.value;S(s=>({...s,categories:s.categories.map(s=>s.round!==e||s.position!==t.position?s:{...s,clues:s.clues.map((e,t)=>t===r?{...e,question:l}:e)})}))},rows:2,className:"".concat("final"===e?"md:col-span-8":"md:col-span-6"," bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500"),placeholder:"Clue question"}),(0,l.jsx)("input",{value:s.answer,onChange:s=>{let l=s.target.value;S(s=>({...s,categories:s.categories.map(s=>s.round!==e||s.position!==t.position?s:{...s,clues:s.clues.map((e,t)=>t===r?{...e,answer:l}:e)})}))},className:"md:col-span-4 bg-gray-700 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Correct answer"}),(0,l.jsxs)("label",{className:"md:col-span-12 flex flex-wrap gap-4 text-sm text-gray-300",children:[(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)("input",{type:"checkbox",checked:s.dailyDouble,onChange:s=>{let l=s.target.checked;S(s=>({...s,categories:s.categories.map(s=>s.round!==e||s.position!==t.position?s:{...s,clues:s.clues.map((e,t)=>t===r?{...e,dailyDouble:l}:e)})}))}}),"Daily Double"]}),(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)("input",{type:"checkbox",checked:s.tripleStumper,onChange:s=>{let l=s.target.checked;S(s=>({...s,categories:s.categories.map(s=>s.round!==e||s.position!==t.position?s:{...s,clues:s.clues.map((e,t)=>t===r?{...e,tripleStumper:l}:e)})}))}}),"Triple Stumper"]})]})]},s.clueId)})]},"".concat(e,"-").concat(t.position)))]},e)})]})})]})}},9485:(e,t,s)=>{Promise.resolve().then(s.bind(s,2321))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=9485)),_N_E=e.O()}]);
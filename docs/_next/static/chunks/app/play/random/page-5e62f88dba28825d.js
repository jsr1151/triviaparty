(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[201],{4944:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>o});var s=l(5155),n=l(2115),a=l(2619),r=l.n(a),i=l(2599);let c=["multiple_choice","open_ended","list","grouping","this_or_that","ranking","media","prompt"],d=["very_easy","easy","medium","hard","very_hard"];function o(){var e;let[t,l]=(0,n.useState)(null),[a,o]=(0,n.useState)(null),[u,x]=(0,n.useState)(!1),[m,p]=(0,n.useState)(""),[g,h]=(0,n.useState)(""),[y,b]=(0,n.useState)(!1),[f,v]=(0,n.useState)(null),[j,N]=(0,n.useState)(0),[w,_]=(0,n.useState)(0),[k,S]=(0,n.useState)({});async function q(){let e=await fetch("".concat("/triviaparty","/data/questions/sheets-import-questions.json"));if(!e.ok)return[];let t=await e.json();return(Array.isArray(null==t?void 0:t.questions)?t.questions:[]).filter(e=>{if("media"!==e.type||u)return!0;let t=e.mediaUrl||"";return!e.needsMediaReview&&!/youtube\.com\/clip\//i.test(t)}).map((e,t)=>({...e,id:e.id||"static-".concat(t)}))}async function C(){if(a)return a;let e=await q();return o(e),e}async function M(){b(!0);try{let e=await C();l(function(e){let t=e.filter(e=>(!m||e.type===m)&&(!g||e.difficulty===g));return t.length?t[Math.floor(Math.random()*t.length)]:null}(e)),v(null)}finally{b(!1)}}async function A(e){let t=(await C()).filter(t=>"prompt"===t.type&&t.prompt===e);t.length&&(l(t[Math.floor(Math.random()*t.length)]),v(null))}let E=t?("string"==typeof t.category?t.category:null==(e=t.category)?void 0:e.name)||t.type:"",P=t&&"ranking"===t.type?"":(null==t?void 0:t.question)||"";return(0,s.jsx)("div",{className:"min-h-screen bg-gray-950 text-white p-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(r(),{href:"/",className:"text-green-300 hover:text-green-200 font-bold",children:"← Main Menu"})}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-green-400 mb-8 text-center",children:"\uD83C\uDFB2 Random Questions"}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 mb-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Type"}),(0,s.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"w-full bg-gray-700 text-white rounded-lg p-2",children:[(0,s.jsx)("option",{value:"",children:"Any type"}),c.map(e=>(0,s.jsx)("option",{value:e,children:e.replace(/_/g," ")},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Difficulty"}),(0,s.jsxs)("select",{value:g,onChange:e=>h(e.target.value),className:"w-full bg-gray-700 text-white rounded-lg p-2",children:[(0,s.jsx)("option",{value:"",children:"Any difficulty"}),d.map(e=>(0,s.jsx)("option",{value:e,children:e.replace(/_/g," ")},e))]})]})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 mb-4 text-sm text-gray-300",children:[(0,s.jsx)("input",{type:"checkbox",checked:u,onChange:function(){x(e=>!e),o(null),l(null),v(null)},className:"h-4 w-4"}),"Include flagged clip media (testing)"]}),(0,s.jsx)("button",{onClick:M,disabled:y,className:"w-full bg-green-600 hover:bg-green-500 disabled:bg-gray-600 py-3 rounded-xl font-bold text-xl",children:y?"Loading...":"Get Random Question"})]}),t&&(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-8",children:[(0,s.jsxs)("div",{className:"text-sm text-yellow-300 mb-2",children:["Points: ",j,"/",w]}),(0,s.jsxs)("div",{className:"text-sm text-green-400 mb-2 uppercase",children:[E," • ",t.difficulty]}),P&&(0,s.jsx)("div",{className:"text-xl font-bold mb-6",children:P}),(0,s.jsx)(i.A,{question:t,onAnswer:function(e){null===f&&(v(e.correct),N(t=>t+e.pointsEarned),_(t=>t+e.pointsPossible),S(t=>{var l,s;return{...t,[e.type]:{earned:((null==(l=t[e.type])?void 0:l.earned)||0)+e.pointsEarned,possible:((null==(s=t[e.type])?void 0:s.possible)||0)+e.pointsPossible}}}))},onRerollPrompt:A}),null!==f&&(0,s.jsx)("div",{className:"mt-4 text-center font-bold ".concat(f?"text-green-300":"text-red-300"),children:f?"✓ Correct":"✗ Incorrect"}),!!Object.keys(k).length&&(0,s.jsxs)("div",{className:"mt-6 bg-gray-900 rounded-lg p-3",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-2 uppercase",children:"By question type"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(k).map(e=>{let[t,l]=e;return(0,s.jsxs)("div",{className:"flex justify-between bg-gray-800 rounded px-2 py-1",children:[(0,s.jsx)("span",{children:t.replace(/_/g," ")}),(0,s.jsxs)("span",{className:"text-yellow-300",children:[l.earned,"/",l.possible]})]},t)})})]})]}),null===t&&!y&&(0,s.jsx)("div",{className:"text-center text-gray-500",children:"No questions found. Try different filters."})]})})}},8390:(e,t,l)=>{Promise.resolve().then(l.bind(l,4944))}},e=>{e.O(0,[619,239,599,441,255,358],()=>e(e.s=8390)),_N_E=e.O()}]);
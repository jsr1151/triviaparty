(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{4539:(e,t,a)=>{Promise.resolve().then(a.bind(a,8721))},8721:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(5155),l=a(2115);let i=["all","multiple_choice","open_ended","list","grouping","this_or_that","ranking","media","prompt"],n=["all","easy","medium","hard"];function c(e){return Array.isArray(e)?e:[]}function r(){let[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(0),[d,o]=(0,l.useState)(1),[h]=(0,l.useState)(50),[m,u]=(0,l.useState)(!0),[x,p]=(0,l.useState)(""),[g,y]=(0,l.useState)("all"),[j,N]=(0,l.useState)("all");(0,l.useEffect)(()=>{!async function(){u(!0);let e=new URLSearchParams({page:String(d),limit:String(h)});x.trim()&&e.set("search",x.trim()),"all"!==g&&e.set("type",g),"all"!==j&&e.set("difficulty",j);try{var a,s;let l=await fetch("/api/questions/database?".concat(e.toString())),i=await l.json();t(null!=(a=i.questions)?a:[]),r(null!=(s=i.total)?s:0)}catch(e){t([]),r(0)}finally{u(!1)}}()},[d,h,x,g,j]);let f=Math.max(1,Math.ceil(a/h));return(0,s.jsx)("main",{className:"min-h-screen bg-gray-950 text-white p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2 text-cyan-400",children:"\uD83D\uDDC4️ Database"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:"Browse questions in the database with their tags and type metadata."}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-xl p-4 mb-4 grid grid-cols-1 md:grid-cols-4 gap-3",children:[(0,s.jsx)("input",{value:x,onChange:e=>{o(1),p(e.target.value)},placeholder:"Search question or explanation...",className:"md:col-span-2 bg-gray-800 rounded-lg px-3 py-2"}),(0,s.jsx)("select",{value:g,onChange:e=>{o(1),y(e.target.value)},className:"bg-gray-800 rounded-lg px-3 py-2",children:i.map(e=>(0,s.jsx)("option",{value:e,children:"all"===e?"All types":e},e))}),(0,s.jsx)("select",{value:j,onChange:e=>{o(1),N(e.target.value)},className:"bg-gray-800 rounded-lg px-3 py-2",children:n.map(e=>(0,s.jsx)("option",{value:e,children:"all"===e?"All difficulties":e},e))})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-400 mb-3",children:[a," total question",1!==a?"s":""]}),(0,s.jsx)("div",{className:"overflow-auto rounded-xl border border-gray-800",children:(0,s.jsxs)("table",{className:"w-full min-w-[980px] text-sm",children:[(0,s.jsx)("thead",{className:"bg-gray-900 text-gray-300",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-3",children:"Question"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Type"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Difficulty"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Category"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Tags"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Info"})]})}),(0,s.jsx)("tbody",{children:m?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"p-4 text-gray-400",colSpan:6,children:"Loading..."})}):0===e.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"p-4 text-gray-400",colSpan:6,children:"No questions found."})}):e.map(e=>{var t,a;return(0,s.jsxs)("tr",{className:"border-t border-gray-800 align-top",children:[(0,s.jsxs)("td",{className:"p-3",children:[(0,s.jsx)("div",{className:"font-medium",children:e.question}),e.explanation&&(0,s.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.explanation})]}),(0,s.jsx)("td",{className:"p-3 text-cyan-300",children:e.type}),(0,s.jsx)("td",{className:"p-3",children:e.difficulty}),(0,s.jsx)("td",{className:"p-3",children:null!=(a=null==(t=e.category)?void 0:t.name)?a:"—"}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map(t=>(0,s.jsx)("span",{className:"bg-gray-800 text-gray-200 px-2 py-0.5 rounded text-xs",children:t},"".concat(e.id,"-").concat(t)))})}),(0,s.jsx)("td",{className:"p-3 text-gray-300",children:e.details.multipleChoice?"".concat(c(e.details.multipleChoice.options).length," options"):e.details.openEnded?"".concat(c(e.details.openEnded.acceptedAnswers).length," accepted answers"):e.details.listQuestion?"".concat(c(e.details.listQuestion.answers).length," list answers • min ").concat(e.details.listQuestion.minRequired):e.details.groupingQuestion?"".concat(c(e.details.groupingQuestion.items).length," items • group ").concat(e.details.groupingQuestion.groupName):e.details.thisOrThat?"".concat(c(e.details.thisOrThat.items).length," items • ").concat(e.details.thisOrThat.categoryA," / ").concat(e.details.thisOrThat.categoryB):e.details.rankingQuestion?"".concat(c(e.details.rankingQuestion.items).length," ranked items • ").concat(e.details.rankingQuestion.criteria):e.details.mediaQuestion?"".concat(e.details.mediaQuestion.mediaType," • ").concat(e.details.mediaQuestion.mediaUrl):e.details.promptQuestion?"".concat(c(e.details.promptQuestion.hints).length," hints"):"No type details"})]},e.id)})})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsx)("button",{onClick:()=>o(e=>Math.max(1,e-1)),disabled:d<=1,className:"px-3 py-2 rounded-lg bg-gray-800 disabled:opacity-40",children:"Previous"}),(0,s.jsxs)("div",{className:"text-sm text-gray-300",children:["Page ",d," / ",f]}),(0,s.jsx)("button",{onClick:()=>o(e=>Math.min(f,e+1)),disabled:d>=f,className:"px-3 py-2 rounded-lg bg-gray-800 disabled:opacity-40",children:"Next"})]})]})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=4539)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{4539:(e,t,a)=>{Promise.resolve().then(a.bind(a,8721))},8721:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(5155),l=a(2115);let i=["all","jeopardy","multiple_choice","open_ended","list","grouping","this_or_that","ranking","media","prompt"],n=["all","n/a","easy","medium","hard"],r=["all","database","jeopardy"];function c(e){return Array.isArray(e)?e:[]}function d(){let[e,t]=(0,l.useState)([]),[a,d]=(0,l.useState)(0),[o,u]=(0,l.useState)(1),[h]=(0,l.useState)(50),[x,p]=(0,l.useState)(!0),[m,g]=(0,l.useState)(""),[y,j]=(0,l.useState)("all"),[N,f]=(0,l.useState)("all"),[b,v]=(0,l.useState)("all");(0,l.useEffect)(()=>{!async function(){p(!0);let e=new URLSearchParams({page:String(o),limit:String(h)});m.trim()&&e.set("search",m.trim()),"all"!==y&&e.set("type",y),"all"!==N&&e.set("difficulty",N),"all"!==b&&e.set("source",b);try{var a,s;let l=await fetch("/api/questions/database?".concat(e.toString())),i=await l.json();t(null!=(a=i.questions)?a:[]),d(null!=(s=i.total)?s:0)}catch(e){t([]),d(0)}finally{p(!1)}}()},[o,h,m,y,N,b]);let w=Math.max(1,Math.ceil(a/h));return(0,s.jsx)("main",{className:"min-h-screen bg-gray-950 text-white p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2 text-cyan-400",children:"\uD83D\uDDC4️ Database"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:"Browse questions in the database with their tags and type metadata."}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-xl p-4 mb-4 grid grid-cols-1 md:grid-cols-5 gap-3",children:[(0,s.jsx)("input",{value:m,onChange:e=>{u(1),g(e.target.value)},placeholder:"Search question or explanation...",className:"md:col-span-2 bg-gray-800 rounded-lg px-3 py-2"}),(0,s.jsx)("select",{value:b,onChange:e=>{u(1),v(e.target.value)},className:"bg-gray-800 rounded-lg px-3 py-2",children:r.map(e=>(0,s.jsx)("option",{value:e,children:"all"===e?"All sources":e},e))}),(0,s.jsx)("select",{value:y,onChange:e=>{u(1),j(e.target.value)},className:"bg-gray-800 rounded-lg px-3 py-2",children:i.map(e=>(0,s.jsx)("option",{value:e,children:"all"===e?"All types":e},e))}),(0,s.jsx)("select",{value:N,onChange:e=>{u(1),f(e.target.value)},className:"bg-gray-800 rounded-lg px-3 py-2",children:n.map(e=>(0,s.jsx)("option",{value:e,children:"all"===e?"All difficulties":e},e))})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-400 mb-3",children:[a," total question",1!==a?"s":""]}),(0,s.jsx)("div",{className:"overflow-auto rounded-xl border border-gray-800",children:(0,s.jsxs)("table",{className:"w-full min-w-[980px] text-sm",children:[(0,s.jsx)("thead",{className:"bg-gray-900 text-gray-300",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-3",children:"ID"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Source"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Question"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Type"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Difficulty"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Category"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Tags"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Info"})]})}),(0,s.jsx)("tbody",{children:x?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"p-4 text-gray-400",colSpan:8,children:"Loading..."})}):0===e.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"p-4 text-gray-400",colSpan:8,children:"No questions found."})}):e.map(e=>{var t,a;return(0,s.jsxs)("tr",{className:"border-t border-gray-800 align-top",children:[(0,s.jsx)("td",{className:"p-3 text-xs text-yellow-300",children:e.id}),(0,s.jsx)("td",{className:"p-3 text-xs",children:e.source}),(0,s.jsxs)("td",{className:"p-3",children:[(0,s.jsx)("div",{className:"font-medium",children:e.question}),e.explanation&&(0,s.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.explanation})]}),(0,s.jsx)("td",{className:"p-3 text-cyan-300",children:e.type}),(0,s.jsx)("td",{className:"p-3",children:e.difficulty}),(0,s.jsx)("td",{className:"p-3",children:null!=(a=null==(t=e.category)?void 0:t.name)?a:"—"}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map(t=>(0,s.jsx)("span",{className:"bg-gray-800 text-gray-200 px-2 py-0.5 rounded text-xs",children:t},"".concat(e.id,"-").concat(t)))})}),(0,s.jsx)("td",{className:"p-3 text-gray-300",children:function(e){if(e.details.multipleChoice)return"".concat(c(e.details.multipleChoice.options).length," options");if(e.details.openEnded)return"".concat(c(e.details.openEnded.acceptedAnswers).length," accepted answers");if(e.details.listQuestion)return"".concat(c(e.details.listQuestion.answers).length," list answers • min ").concat(e.details.listQuestion.minRequired);if(e.details.groupingQuestion)return"".concat(c(e.details.groupingQuestion.items).length," items • group ").concat(e.details.groupingQuestion.groupName);if(e.details.thisOrThat)return"".concat(c(e.details.thisOrThat.items).length," items • ").concat(e.details.thisOrThat.categoryA," / ").concat(e.details.thisOrThat.categoryB);if(e.details.rankingQuestion)return"".concat(c(e.details.rankingQuestion.items).length," ranked items • ").concat(e.details.rankingQuestion.criteria);if(e.details.mediaQuestion)return"".concat(e.details.mediaQuestion.mediaType," • ").concat(e.details.mediaQuestion.mediaUrl);if(e.details.promptQuestion)return"".concat(c(e.details.promptQuestion.hints).length," hints");if(e.details.jeopardy){let t=null==e.details.jeopardy.value?"FJ":"$".concat(e.details.jeopardy.value);return"Show #".concat(e.details.jeopardy.showNumber," • ").concat(e.details.jeopardy.round," • ").concat(t)}return"No type details"}(e)})]},e.id)})})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsx)("button",{onClick:()=>u(e=>Math.max(1,e-1)),disabled:o<=1,className:"px-3 py-2 rounded-lg bg-gray-800 disabled:opacity-40",children:"Previous"}),(0,s.jsxs)("div",{className:"text-sm text-gray-300",children:["Page ",o," / ",w]}),(0,s.jsx)("button",{onClick:()=>u(e=>Math.min(w,e+1)),disabled:o>=w,className:"px-3 py-2 rounded-lg bg-gray-800 disabled:opacity-40",children:"Next"})]})]})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=4539)),_N_E=e.O()}]);